webpackJsonp([1],{"/WuL":function(e,t){},0:function(e,t,a){a("briU"),e.exports=a("NHnr")},"0NbO":function(e,t){},"1Veg":function(e,t){},"1gjJ":function(e,t){},"1xJG":function(e,t){},"3MNE":function(e,t){},"3iYT":function(e,t){},"4hpt":function(e,t){},"4wxY":function(e,t){},"5OHe":function(e,t){},"7Otq":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHMAAABFCAYAAAB5YNlWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplNmM1MzY3Ny1iYzRmLTIxNDMtYWVkYy01NDZhYzc3Yjg0YTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUZEREVDQ0NGQ0UxMTFFNzk2MjZGQkE5MTFGODdBMUUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUZEREVDQ0JGQ0UxMTFFNzk2MjZGQkE5MTFGODdBMUUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEzMWNhZDg5LWNlNTYtZmE0ZC04MzRmLTJlZmMyNjBlNzEwMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDplNmM1MzY3Ny1iYzRmLTIxNDMtYWVkYy01NDZhYzc3Yjg0YTMiLz4gPC9y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"},"8p3k":function(e,t){},"9EAJ":function(e,t){},BoPd:function(e,t){},CuUA:function(e,t){},DE19:function(e,t){},DKaO:function(e,t){},DUO4:function(e,t){},FDtD:function(e,t){},KInN:function(e,t){},LrRZ:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("CW0I"),l=a.n(i),s=a("+RKF"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"white-theme",attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("C7Lr")({name:"App"},n,!1,function(e){a("fGvu")},null,null).exports,r=a("bAj6"),c=a("vaC7"),m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{staticClass:"body-container"},[i("el-header",{staticClass:"body-head",style:{background:e.themeColor}},[i("div",{staticClass:"head-menu floatLeft"},[i("router-link",{staticStyle:{display:"block",height:"100%"},attrs:{to:"/home"}},[i("el-image",{staticStyle:{width:"80px",height:"calc(100% - 18px)","margin-top":"10px",transition:"all 0.3s ease-out"},attrs:{src:a("7Otq")}})],1)],1),e._v(" "),i("div",{staticClass:"head-menu floatLeft marginLeft"},[i("router-link",{attrs:{to:"/home"}},[i("span",{staticClass:"head-title text-size-20"},[e._v("智能设备管理系统")])])],1),e._v(" "),i("div",{staticClass:"head-menu floatRight"},[i("ul",[i("li",[i("el-tooltip",{staticClass:"head-menu-item",attrs:{effect:"dark",content:"全屏",placement:"bottom"}},[i("i",{class:e.isFullScreen?"el-icon-aim":"el-icon-full-screen",on:{click:e.getFullCreeen}})])],1),e._v(" "),i("li",[i("el-tooltip",{staticClass:"head-menu-item",attrs:{effect:"light",placement:"bottom"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("el-color-picker",{on:{change:e.changeTheme},model:{value:e.themeColor,callback:function(t){e.themeColor=t},expression:"themeColor"}})],1),e._v(" "),i("i",{staticClass:"el-icon-brush"})])],1),e._v(" "),i("li",[i("el-dropdown",{staticClass:"head-menu-item",attrs:{trigger:"click"},on:{command:e.handleCommand}},[i("span",{staticClass:"el-dropdown-link text-size-16"},[i("i",{staticClass:"dotState bg-darkblue"}),e._v(e._s(this.$store.state.UserName)),i("i",{staticClass:"el-icon-arrow-down el-icon--right text-size-12"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"a"}},[e._v("个人信息")]),e._v(" "),i("el-dropdown-item",{staticStyle:{"text-align":"center"},attrs:{command:"b"}},[i("i",{staticClass:"fa fa-power-off"})])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"用户信息",visible:e.dialogUserVisible,"append-to-body":!0,width:"50%"},on:{"update:visible":function(t){e.dialogUserVisible=t}}},[i("el-form",[i("el-form-item",{attrs:{label:"用户名："}},[e._v(e._s(e.userInfo.Name))]),e._v(" "),i("el-form-item",{attrs:{label:"工号："}},[e._v(e._s(e.userInfo.WorkNumber))]),e._v(" "),i("el-form-item",{attrs:{label:"最近登录时间："}},[e._v(e._s(e.userInfo.LastLoginTime))]),e._v(" "),i("el-form-item",{attrs:{label:"权限："}},[e._v(e._s(e.userInfo.Permissions))])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogUserVisible=!1}}},[e._v("取 消")])],1)],1)],1)])])]),e._v(" "),i("el-container",[i("el-aside",{staticClass:"left-aside",attrs:{width:"220px"}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"aside-menu",style:e.selfHeight},[i("el-menu",{staticClass:"menu-ul",attrs:{"default-active":e.defaultActiveUrl,collapse:e.menuIsCollapse,router:!0,"active-text-color":e.themeColor},on:{select:e.menuSelect}},[e._l(e.systemOptions,function(t){return[t.mainMenu?e._e():i("el-menu-item",{attrs:{index:t.url}},[i("i",{class:t.icon}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._v(" "),t.mainMenu?i("el-submenu",{attrs:{index:t.title}},[i("template",{slot:"title"},[i("i",{class:t.icon}),i("span",[e._v(e._s(t.title))])]),e._v(" "),e._l(t.mainMenu,function(t,a){return i("el-menu-item",{key:a,attrs:{index:t.url}},[i("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.title))])])})],2):e._e()]})],2)],1),e._v(" "),i("div",{staticClass:"aside-foot"},[i("el-button",{style:{background:e.themeColor},attrs:{icon:e.sideIcon,size:"mini",circle:""},on:{click:e.iconToggle}})],1)])],1)],1),e._v(" "),i("el-container",[i("el-header",{staticStyle:{height:"40px","padding-top":"10px"}},[i("el-breadcrumb",{staticStyle:{"line-height":"40px"},attrs:{separator:"/"}},e._l(e.breadList,function(t,a){return i("el-breadcrumb-item",{key:a,attrs:{to:{path:t.path}}},[e._v(e._s(t.meta.title))])}),1)],1),e._v(" "),i("el-main",{staticStyle:{clear:"both"}},[i("transition",{attrs:{name:"move",mode:"out-in"}},[i("router-view",{key:e.$route.fullPath})],1)],1)],1)],1)],1)},staticRenderFns:[]};var d=function(e){a("jSUE")},u=a("C7Lr")(c.a,m,!1,d,"data-v-473a46e2",null).exports,p=(a("zH3I"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",{attrs:{gutter:15}},[t("el-col",{attrs:{span:24}})],1)},staticRenderFns:[]});var h=a("C7Lr")({name:"index",data:function(){return{}},created:function(){},mounted:function(){},watch:{},computed:{},methods:{}},p,!1,function(e){a("LrRZ")},"data-v-0c9d5564",null).exports,f=a("wqUF"),b={name:"login",data:function(){return{color:"#082F4C",loginForm:{WorkNumber:"",password:"",rememb:!1},rules:{WorkNumber:[{required:!0,message:"请输入工号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},isSubLoadding:!1,camera:null,scene:null,renderer:null,mesh:null,SEPARATION:100,AMOUNTX:50,AMOUNTY:50,container:null,particles:null,count:0,mouseX:0,mouseY:0,windowHalfX:window.innerWidth/2,windowHalfY:window.innerHeight/2}},created:function(){},mounted:function(){this.getCookie(),this.init(),this.animate()},methods:{submitForm:function(e){var t=this,a={WorkNumber:this.loginForm.WorkNumber,Password:this.loginForm.password};this.$refs[e].validate(function(e){e&&0==t.isSubLoadding&&(t.isSubLoadding=!0,t.axios.post("/api/login",t.qs.stringify(a)).then(function(e){if("1000"===e.data.code){t.$message({showClose:!0,message:"登录成功",type:"success"});var a=t;t.isSubLoadding=!1,setTimeout(function(){a.$router.push("/")},1e3),t.$store.commit("setUser",t.loginForm.WorkNumber),t.loginForm.rememb?t.setCookie(t.loginForm.WorkNumber,t.loginForm.password,t.loginForm.rememb,7):t.clearCookie()}else"2000"===e.data.code&&(t.$message({showClose:!0,type:"info",message:e.data.message}),t.isSubLoadding=!1)},function(e){console.log("请求错误"),t.isSubLoadding=!1}))})},setCookie:function(e,t,a,i){var l=new Date;l.setTime(l.getTime()+864e5*i),window.document.cookie="userName="+e+";path=/;expires="+l.toGMTString(),window.document.cookie="userPwd="+t+";path=/;expires="+l.toGMTString(),window.document.cookie="rememb="+a+";path=/;expires="+l.toGMTString()},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var a=e[t].split("=");"userName"==a[0]?this.loginForm.WorkNumber=a[1]:"userPwd"==a[0]?this.loginForm.password=a[1]:"rememb"==a[0]&&(this.loginForm.rememb=Boolean(a[1]))}},clearCookie:function(){this.setCookie("","","",-1)},init:function(){this.container=document.getElementById("loginBgCanvas"),this.camera=new f.d(75,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=1e3,this.scene=new f.f,this.scene.background=new f.c(1777191);for(var e=this.AMOUNTX*this.AMOUNTY,t=new Float32Array(3*e),a=new Float32Array(e),i=0,l=0,s=0;s<this.AMOUNTX;s++)for(var n=0;n<this.AMOUNTY;n++)t[i]=s*this.SEPARATION-this.AMOUNTX*this.SEPARATION/2,t[i+1]=0,t[i+2]=n*this.SEPARATION-this.AMOUNTY*this.SEPARATION/2,a[l]=1,i+=3,l++;var o=new f.b;o.setAttribute("position",new f.a(t,3)),o.setAttribute("scale",new f.a(a,1));var r=new f.g({uniforms:{color:{value:new f.c(2263765)}},vertexShader:document.getElementById("vertexshader").textContent,fragmentShader:document.getElementById("fragmentshader").textContent});this.particles=new f.e(o,r),this.scene.add(this.particles),this.renderer=new f.h({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),document.addEventListener("mousemove",this.onDocumentMouseMove,!1),document.addEventListener("touchstart",this.onDocumentTouchStart,!1),document.addEventListener("touchmove",this.onDocumentTouchMove,!1),window.addEventListener("resize",this.onWindowResize,!1)},animate:function(){requestAnimationFrame(this.animate),this.render()},onWindowResize:function(){this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2,this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},onDocumentMouseMove:function(e){this.mouseX=e.clientX-this.windowHalfX-200,this.mouseY=e.clientY-this.windowHalfY-200},onDocumentTouchStart:function(e){1===e.touches.length&&(e.preventDefault(),this.mouseX=e.touches[0].pageX-this.windowHalfX,this.mouseY=e.touches[0].pageY-this.windowHalfY)},onDocumentTouchMove:function(e){1===e.touches.length&&(e.preventDefault(),this.mouseX=e.touches[0].pageX-this.windowHalfX,this.mouseY=e.touches[0].pageY-this.windowHalfY)},render:function(){this.camera.position.x+=.05*(this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(-this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position);for(var e=this.particles.geometry.attributes.position.array,t=this.particles.geometry.attributes.scale.array,a=0,i=0,l=0;l<this.AMOUNTX;l++)for(var s=0;s<this.AMOUNTY;s++)e[a+1]=50*Math.sin(.3*(l+this.count))+50*Math.sin(.5*(s+this.count)),t[i]=8*(Math.sin(.3*(l+this.count))+1)+8*(Math.sin(.5*(s+this.count))+1),a+=3,i++;this.particles.geometry.attributes.position.needsUpdate=!0,this.particles.geometry.attributes.scale.needsUpdate=!0,this.renderer.render(this.scene,this.camera),this.count+=.1}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"100%"}},[a("div",{attrs:{id:"loginBgCanvas"}},[a("div",{staticClass:"login-center-bg"},[a("div",{staticClass:"login-form-box"},[a("div",{staticClass:"login-form-title"},[e._v("智能设备管理系统")]),e._v(" "),a("div",{staticClass:"login-form-mask"}),e._v(" "),a("div",{staticClass:"login-form blackComponents"},[a("el-form",{ref:"ruleForm",staticStyle:{width:"100%"},attrs:{model:e.loginForm,rules:e.rules}},[a("el-form-item",{attrs:{prop:"WorkNumber"}},[a("el-input",{attrs:{placeholder:"请输入工号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("ruleForm")}},model:{value:e.loginForm.WorkNumber,callback:function(t){e.$set(e.loginForm,"WorkNumber",t)},expression:"loginForm.WorkNumber"}},[a("i",{staticClass:"el-input__icon el-icon-s-custom",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("ruleForm")}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[a("i",{staticClass:"el-input__icon el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),a("el-form-item",[a("el-checkbox",{staticClass:"remembCheckbox",model:{value:e.loginForm.rememb,callback:function(t){e.$set(e.loginForm,"rememb",t)},expression:"loginForm.rememb"}},[e._v("记住密码")])],1)],1)],1),e._v(" "),a("div",{staticClass:"login-form-submit",class:e.isSubLoadding?"submitLoadding":"",on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")])])])])])},staticRenderFns:[]};var g=a("C7Lr")(b,v,!1,function(e){a("3iYT")},"data-v-5822fab2",null).exports,D=a("3cXf"),_=a.n(D),T=a("a3Yh"),y=a.n(T),C={name:"CommonTable",props:["tableData","relatedTableData"],data:function(){return{}},created:function(){this.determineSubmitType()},methods:{handleSizeChange:function(e){this.tableData.limit=e,this.$emit("getTableData")},handleCurrentChange:function(e){this.tableData.offset=e,this.$emit("getTableData")},handleSelectionChange:function(e){var t=this;this.tableData.multipleSelection=e,void 0!=e[0]&&this.relatedTableData&&(this.relatedTableData.searchProp=this.tableData.relatedChildTableField,this.relatedTableData.searchVal=e[0][this.tableData.relatedTableField],this.axios.get("/api/CUID",{params:{tableName:this.relatedTableData.tableName,field:this.relatedTableData.searchProp,fieldvalue:this.relatedTableData.searchVal,limit:this.relatedTableData.limit,offset:this.relatedTableData.offset-1}}).then(function(e){if("200"===e.data.code){var a=e.data.data;t.relatedTableData.data=a.rows,t.relatedTableData.total=a.total}},function(e){console.log("请求错误")}))},handleRowClick:function(e){this.tableData.tableSelectionRadio?(this.$refs.multipleTable.clearSelection(),this.$refs.multipleTable.toggleRowSelection(e)):this.$refs.multipleTable.toggleRowSelection(e),this.tableData.rowClick&&(this.tableData.rowClickData=e,this.$emit(this.tableData.rowClick))},searchTab:function(){var e,t=this;this.tableData.offset=1,this.axios.get("/api/CUID",{params:(e={tableName:this.tableData.tableName},y()(e,this.tableData.searchProp,this.tableData.searchVal),y()(e,"limit",this.tableData.limit),y()(e,"offset",this.tableData.offset-1),e)}).then(function(e){if("200"===e.data.code){var a=e.data.data;t.tableData.data=a.rows,t.tableData.total=a.total}},function(e){console.log("请求错误")})},tableClickHandleButton:function(e,t){var a=this;if(this.tableData.dialogTitle=e,"添加"===e)this.determineSubmitType(),this.tableData.dialogVisible=!0,this.tableData.column.forEach(function(e){e.defaultValue?e.value=e.defaultValue:e.value=""});else if("修改"===e)this.determineSubmitType(),1==this.tableData.multipleSelection.length?(this.tableData.dialogVisible=!0,this.tableData.column.forEach(function(e){e.defaultValue?e.value=e.defaultValue:e.value=a.tableData.multipleSelection[0][e.prop]})):this.$message({type:"info",message:"请单选一条数据 "});else if("删除"===e){var i={tableName:this.tableData.tableName},l=[];this.tableData.multipleSelection.length>=1?(this.tableData.multipleSelection.forEach(function(e){l.push({id:e.ID})}),i.delete_data=_()(l),this.$confirm("确定删除所选记录？","提示",{distinguishCancelAndClose:!0,type:"warning"}).then(function(){a.axios.delete("/api/CUID",{params:i}).then(function(e){"200"===e.data.code&&a.$message({type:"success",message:e.data.message}),a.$emit("getTableData")},function(e){console.log("请求错误")})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})):this.$message({message:"至少选择一条数据进行删除",type:"warning"})}else this.$emit(t)},determineSubmitType:function(){var e=this;this.tableData.column&&this.tableData.column.forEach(function(t){if("select"===t.type){var a={tableName:t.Downtable,limit:1e8,offset:0};e.axios.get("/api/CUID",{params:a}).then(function(e){if("200"===e.data.code){var a=e.data.data;t.DownData=a.rows}},function(e){console.log("请求错误")})}})},changeHandleChildSelect:function(e,t){var a=this;this.tableData.column&&this.tableData.column.forEach(function(i){i.prop===t&&i.childProp&&a.tableData.column.forEach(function(t,l){var s;t.prop===i.childProp&&a.axios.get("/api/CUID",{params:(s={tableName:t.Downtable},y()(s,t.showDownField,e),y()(s,"limit",1e8),y()(s,"offset",0),s)}).then(function(e){if("200"===e.data.code){var i=e.data.data;t.DownData=i.rows;var s=t;a.tableData.column.splice(l,1,s)}},function(e){console.log("请求错误")})})})},save:function(){var e=this;if("添加"===this.tableData.dialogTitle){var t={tableName:this.tableData.tableName};this.tableData.column.forEach(function(e){0!=e.canSubmit&&(t[e.prop]=e.value,Array.isArray(e.value)?t[e.prop]=_()(e.value):t[e.prop]=e.value)}),this.axios.post("/api/CUID",this.qs.stringify(t)).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:t.data.message}),e.$emit("getTableData")):e.$message({type:"info",message:t.data.message}),e.tableData.dialogVisible=!1},function(e){console.log("请求错误")})}else if("修改"===this.tableData.dialogTitle){t={tableName:this.tableData.tableName};this.tableData.column.forEach(function(e){t[e.prop]=e.value}),this.axios.put("/api/CUID",this.qs.stringify(t)).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:t.data.message}),e.$emit("getTableData")):e.$message({type:"info",message:t.data.message}),e.tableData.dialogVisible=!1},function(e){console.log("请求错误")})}}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.tableData.hasOwnProperty("searchProp")||e.tableData.hasOwnProperty("searchVal")?a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择搜索字段",size:"small"},model:{value:e.tableData.searchProp,callback:function(t){e.$set(e.tableData,"searchProp",t)},expression:"tableData.searchProp"}},e._l(e.tableData.column,function(t,i){return 0!=t.searchProp?a("el-option",{key:i,attrs:{label:t.label,value:t.prop}}):e._e()}),1)],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入搜索内容",size:"small"},model:{value:e.tableData.searchVal,callback:function(t){e.$set(e.tableData,"searchVal",t)},expression:"tableData.searchVal"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success",icon:"el-icon-search",size:"small"},on:{click:e.searchTab}},[e._v("搜索")])],1),e._v(" "),e._l(e.tableData.handleType,function(t,i){return t.hasOwnProperty("hasPermissions")?a("el-form-item",{directives:[{name:"has",rawName:"v-has",value:[t.hasPermissions],expression:"[item.hasPermissions]"}],key:i},[a("el-button",{attrs:{type:t.type,size:"small"},on:{click:function(a){return e.tableClickHandleButton(t.label,t.clickEvent)}}},[e._v(e._s(t.label))])],1):e._e()}),e._v(" "),e._l(e.tableData.handleType,function(t,i){return t.hasOwnProperty("hasPermissions")?e._e():a("el-form-item",{key:i},[a("el-button",{attrs:{type:t.type,size:"small",icon:t.icon},on:{click:function(a){return e.tableClickHandleButton(t.label,t.clickEvent)}}},[e._v(e._s(t.label))])],1)})],2):e._e(),e._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:e.tableData.data,size:"small",border:""},on:{"selection-change":e.handleSelectionChange,"row-click":e.handleRowClick}},[e.tableData.tableSelection?a("el-table-column",{attrs:{type:"selection"}}):e._e(),e._v(" "),e._l(e.tableData.column,function(t,i){return 0!=t.showField?a("el-table-column",{key:i,attrs:{prop:t.prop,label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(i){return[e._l(t.dataJudge,function(l){return i.row[t.prop]===l.value?a("div",{key:l.value},[l.change?a("span",{style:{color:l.color},domProps:{textContent:e._s(l.change)}}):e._e(),e._v(" "),l.change?e._e():a("span",{style:{color:l.color}},[e._v(e._s(i.row[t.prop]))])]):e._e()}),e._v(" "),t.hasOwnProperty("dataJudge")&&0!==t.dataJudge.length?e._e():a("span",[e._v(e._s(i.row[t.prop]))])]}}],null,!0)}):e._e()})],2),e._v(" "),e.tableData.hasOwnProperty("limit")||e.tableData.hasOwnProperty("offset")?a("div",{staticClass:"paginationClass"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.total,"current-page":e.tableData.offset,"page-sizes":[5,10,20],"page-size":e.tableData.limit},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:e.tableData.dialogTitle,visible:e.tableData.dialogVisible,"close-on-click-modal":!1,"append-to-body":!0,width:"40%"},on:{"update:visible":function(t){return e.$set(e.tableData,"dialogVisible",t)}}},[a("el-form",{attrs:{"label-width":"110px"}},e._l(e.tableData.column,function(t,i){return 0!=t.canSubmit?a("el-form-item",{key:i,attrs:{label:t.label,prop:t.prop}},["input"===t.type?a("el-input",{attrs:{disabled:t.disabled},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),e._v(" "),"select"!==t.type||t.multiple?e._e():a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){return e.changeHandleChildSelect(t.value,t.prop)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(t.DownData,function(e,i){return a("el-option",{key:i,attrs:{label:e[t.showDownField],value:e[t.showDownField]}})}),1),e._v(" "),"select"===t.type&&t.multiple?a("el-select",{attrs:{multiple:"",placeholder:"请选择"},on:{change:function(a){return e.changeHandleChildSelect(t.value,t.prop)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(t.DownData,function(e,i){return a("el-option",{key:i,attrs:{label:e[t.showDownField],value:e[t.showDownField]}})}),1):e._e()],1):e._e()}),1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.tableData.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var k=a("C7Lr")(C,w,!1,function(e){a("o9R2")},"data-v-29a79ef2",null).exports,F={name:"Organization",components:{tableView:k},data:function(){var e=this;return this.events={click:function(t){e.clickTree(t)}},{showTypeValue:"看板视图",showType:[{label:"看板视图"},{label:"表格视图"}],orientValue:"向右",orientSettings:[{label:"向右"},{label:"向下"},{label:"向左"},{label:"向上"}],positionValue:"标签靠右",positionSettings:[{label:"标签靠右"},{label:"靠下"},{label:"靠左"},{label:"靠上"}],roamValue:"关闭",roamSettings:[{label:"关闭"},{label:"缩放"},{label:"平移"},{label:"缩放和平移"}],layoutValue:"正交布局",layoutSettings:[{label:"正交布局"},{label:"径向布局"}],DepthValue:"展示全部",DepthSettings:[{label:"展示全部"},{label:"3层"},{label:"2层"},{label:"1层"}],modeValue:"查看模式",modeSettings:[{label:"查看模式"},{label:"编辑模式"}],handleValue:"",handleSettings:[{label:"添加子节点"},{label:"修改"},{label:"删除"}],sliderValue:.5,chartSettings:{seriesMap:{tree:{orient:"LR",lineStyle:{curveness:.5,width:1.5,color:"#A3B1BF"},roam:!1,layout:"orthogonal",expandAndCollapse:!0,initialTreeDepth:-1,symbolSize:10,label:{position:"right",color:"#333"},itemStyle:{color:"#333",borderColor:"#5B8FF9"}}}},chartData:{columns:["name","value"],rows:[{name:"tree",value:[]}]},handleDialogVisible:!1,departmentDrawer:!1,drawerTitle:"",clicktype:"",clickTreeData:{},departmentForm:{did:"",factory_name:"",department_name:"",department_code:""},delDepartmentCode:"",delDepartmentName:"",rules:{department_name:[{required:!0,message:"请输入部门名称",trigger:"blur"}],department_code:[{required:!0,message:"请输入部门编码",trigger:"blur"}]},roleDrawer:!1,roleForm:{did:"",department_name:"",rid:"",role_code:"",role_name:"",role_description:""},roleRules:{role_name:[{required:!0,message:"请输入角色名称",trigger:"blur"}],role_code:[{required:!0,message:"请输入角色编码",trigger:"blur"}]},DepartmentTableData:{tableName:"DepartmentManager",column:[{prop:"DepartName",label:"部门名称"},{prop:"DepartCode",label:"部门编码"},{prop:"DepartLoad",label:"所属区域"}],data:[],limit:5,offset:1,total:0,searchProp:"",searchPropList:[{label:"部门名称",prop:"DepartName"},{label:"部门编码",prop:"DepartCode"}],searchVal:"",tableSelection:!0,tableSelectionRadio:!0,multipleSelection:[],relatedTableField:"DepartCode",relatedChildTableField:"ParentNode"},RoleTableData:{tableName:"Role",column:[{prop:"RoleName",label:"角色名称"},{prop:"RoleCode",label:"角色编码"},{prop:"Description",label:"描述"},{prop:"ParentNode",label:"所属部门"}],data:[],limit:5,offset:1,total:0,searchProp:"",searchPropList:[{label:"角色名称",prop:"RoleName"},{label:"角色编码",prop:"RoleCode"},{label:"所属部门",prop:"ParentNode"}],searchVal:""}}},created:function(){this.getTreeData(),this.getDepartmentTable(),this.getRoleTable()},methods:{getTreeData:function(){var e=this;this.axios.get("/api/system_tree").then(function(t){e.chartData.rows[0].value=[t.data]})},changeSettings:function(e){this.chartSettings.seriesMap.tree.lineStyle.curveness=this.sliderValue,"向下"===e?this.chartSettings.seriesMap.tree.orient="TB":"向右"===e?this.chartSettings.seriesMap.tree.orient="LR":"向左"===e?this.chartSettings.seriesMap.tree.orient="RL":"向上"===e?this.chartSettings.seriesMap.tree.orient="BT":"关闭"===e?this.chartSettings.seriesMap.tree.roam=!1:"缩放"===e?this.chartSettings.seriesMap.tree.roam="scale":"平移"===e?this.chartSettings.seriesMap.tree.roam="move":"缩放和平移"===e?this.chartSettings.seriesMap.tree.roam=!0:"正交布局"===e?this.chartSettings.seriesMap.tree.layout="orthogonal":"径向布局"===e?this.chartSettings.seriesMap.tree.layout="radial":"展示全部"===e?this.chartSettings.seriesMap.tree.initialTreeDepth=-1:"1层"===e?this.chartSettings.seriesMap.tree.initialTreeDepth=0:"2层"===e?this.chartSettings.seriesMap.tree.initialTreeDepth=1:"3层"===e?this.chartSettings.seriesMap.tree.initialTreeDepth=2:"标签靠右"===e?this.chartSettings.seriesMap.tree.label.position="right":"靠下"===e?this.chartSettings.seriesMap.tree.label.position="bottom":"靠左"===e?this.chartSettings.seriesMap.tree.label.position="left":"靠上"===e?this.chartSettings.seriesMap.tree.label.position="top":"查看模式"===e?this.chartSettings.seriesMap.tree.expandAndCollapse=!0:"编辑模式"===e&&(this.chartSettings.seriesMap.tree.expandAndCollapse=!1)},clickTree:function(e){"编辑模式"===this.modeValue&&(this.chartSettings.seriesMap.tree.expandAndCollapse=!1,this.getTreeData(),this.handleValue="",this.handleDialogVisible=!0,this.clickTreeData=e.data)},handleChange:function(){var e=this,t=this.clickTreeData.type;this.drawerTitle=this.handleValue,"添加子节点"===this.handleValue?"factory"===t?(this.handleDialogVisible=!1,this.departmentDrawer=!0,this.departmentForm={factory_name:this.clickTreeData.name,department_name:"",department_code:""}):"department"===t&&(this.handleDialogVisible=!1,this.roleDrawer=!0,this.roleForm={department_name:this.clickTreeData.name,did:this.clickTreeData.did,role_name:"",role_code:"",role_description:""}):"修改"===this.handleValue?"factory"===t?this.$message({type:"info",message:"当前节点不可修改"}):"department"===t?(this.handleDialogVisible=!1,this.departmentDrawer=!0,this.departmentForm={factory_name:this.clickTreeData.factory_name,did:this.clickTreeData.did,department_name:this.clickTreeData.name,department_code:this.clickTreeData.value}):"role"===t&&(this.handleDialogVisible=!1,this.roleDrawer=!0,this.roleForm={department_name:this.clickTreeData.department_name,rid:this.clickTreeData.rid,role_name:this.clickTreeData.name,role_code:this.clickTreeData.value,role_description:this.clickTreeData.role_description}):"删除"===this.handleValue&&("factory"===t?this.$message({type:"info",message:"当前节点不可删除"}):"department"===t?(this.handleDialogVisible=!1,this.$confirm("此操作将永久删除"+this.clickTreeData.name+"节点, 是否继续?","删除节点"+this.clickTreeData.name,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={department_code:e.clickTreeData.value};e.axios.delete("/api/system_tree/delete_department",{headers:t}).then(function(t){10001===t.data.code?(e.$message({type:"success",message:t.data.msg}),e.departmentDrawer=!1,e.getTreeData(),e.getDepartmentTable(),e.getRoleTable()):e.$message({type:"info",message:"新增失败"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})):"role"===t&&(this.handleDialogVisible=!1,this.$confirm("此操作将永久删除"+this.clickTreeData.name+"节点, 是否继续?","删除节点"+this.clickTreeData.name,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={rid:e.clickTreeData.rid};e.axios.delete("/api/system_tree/delete_role",{headers:t}).then(function(t){10004===t.data.code?(e.$message({type:"success",message:t.data.msg}),e.departmentDrawer=!1,e.getTreeData(),e.getDepartmentTable(),e.getRoleTable()):e.$message({type:"info",message:"新增失败"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})))},departmentSave:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;"添加子节点"===t.drawerTitle?t.axios.post("/api/system_tree/add_department",t.departmentForm).then(function(e){1e4===e.data.code?(t.$message({type:"success",message:e.data.msg}),t.departmentDrawer=!1,t.getTreeData(),t.getDepartmentTable(),t.getRoleTable()):t.$message({type:"info",message:"新增失败"})}):"修改"===t.drawerTitle&&t.axios.patch("/api/system_tree/update_department",t.departmentForm).then(function(e){10002===e.data.code?(t.$message({type:"success",message:e.data.msg}),t.departmentDrawer=!1,t.getTreeData(),t.getDepartmentTable(),t.getRoleTable()):t.$message({type:"info",message:"修改失败"})})})},roleSave:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;"添加子节点"===t.drawerTitle?t.axios.post("/api/system_tree/add_role",t.roleForm).then(function(e){10003===e.data.code?(t.$message({type:"success",message:e.data.msg}),t.roleDrawer=!1,t.getTreeData(),t.getDepartmentTable(),t.getRoleTable()):t.$message({type:"info",message:"新增失败"})}):"修改"===t.drawerTitle&&t.axios.patch("/api/system_tree/update_role",t.roleForm).then(function(e){10005===e.data.code?(t.$message({type:"success",message:e.data.msg}),t.roleDrawer=!1,t.getTreeData(),t.getDepartmentTable(),t.getRoleTable()):t.$message({type:"info",message:"修改失败"})})})},getDepartmentTable:function(){var e=this,t={tableName:"DepartmentManager",limit:this.DepartmentTableData.limit,offset:this.DepartmentTableData.offset-1};this.axios.get("/api/CUID",{params:t}).then(function(t){var a=t.data;e.DepartmentTableData.data=a.rows,e.DepartmentTableData.total=a.total},function(e){console.log("请求错误")})},getRoleTable:function(){var e=this,t={tableName:"Role",limit:this.RoleTableData.limit,offset:this.RoleTableData.offset-1};this.axios.get("/api/CUID",{params:t}).then(function(t){if("200"===t.data.code){var a=t.data.data;e.RoleTableData.data=a.rows,e.RoleTableData.total=a.total}},function(e){console.log("请求错误")})}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"marginBottom"},[a("el-radio-group",{staticClass:"page-title-radio",attrs:{size:"mini",border:!1,fill:"#00CAFA"},model:{value:e.showTypeValue,callback:function(t){e.showTypeValue=t},expression:"showTypeValue"}},e._l(e.showType,function(e,t){return a("el-radio-button",{key:t,attrs:{label:e.label}})}),1)],1),e._v(" "),"看板视图"===e.showTypeValue?a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-radio-group",{attrs:{size:"mini"},on:{change:e.changeSettings},model:{value:e.layoutValue,callback:function(t){e.layoutValue=t},expression:"layoutValue"}},e._l(e.layoutSettings,function(e){return a("el-radio-button",{key:e.label,attrs:{label:e.label}})}),1)],1),e._v(" "),a("el-form-item",[a("el-radio-group",{attrs:{size:"mini"},on:{change:e.changeSettings},model:{value:e.orientValue,callback:function(t){e.orientValue=t},expression:"orientValue"}},e._l(e.orientSettings,function(e){return a("el-radio-button",{key:e.label,attrs:{label:e.label}})}),1)],1),e._v(" "),a("el-form-item",[a("el-radio-group",{attrs:{size:"mini"},on:{change:e.changeSettings},model:{value:e.positionValue,callback:function(t){e.positionValue=t},expression:"positionValue"}},e._l(e.positionSettings,function(e){return a("el-radio-button",{key:e.label,attrs:{label:e.label}})}),1)],1),e._v(" "),a("el-form-item",[a("el-radio-group",{attrs:{size:"mini"},on:{change:e.changeSettings},model:{value:e.roamValue,callback:function(t){e.roamValue=t},expression:"roamValue"}},e._l(e.roamSettings,function(e){return a("el-radio-button",{key:e.label,attrs:{label:e.label}})}),1)],1),e._v(" "),a("el-form-item",[a("el-radio-group",{attrs:{size:"mini"},on:{change:e.changeSettings},model:{value:e.DepthValue,callback:function(t){e.DepthValue=t},expression:"DepthValue"}},e._l(e.DepthSettings,function(e){return a("el-radio-button",{key:e.label,attrs:{label:e.label}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"曲度："}},[a("div",{staticStyle:{width:"100px"}},[a("el-slider",{attrs:{max:1,min:0,step:.1},on:{input:e.changeSettings},model:{value:e.sliderValue,callback:function(t){e.sliderValue=t},expression:"sliderValue"}})],1)]),e._v(" "),a("el-form-item",{directives:[{name:"has",rawName:"v-has",value:["管理人员"],expression:"['管理人员']"}]},[a("el-radio-group",{attrs:{size:"mini"},on:{change:e.changeSettings},model:{value:e.modeValue,callback:function(t){e.modeValue=t},expression:"modeValue"}},e._l(e.modeSettings,function(e){return a("el-radio-button",{key:e.label,attrs:{label:e.label}})}),1)],1)],1):e._e(),e._v(" "),"看板视图"===e.showTypeValue?a("div",{staticClass:"platformContainer"},[a("ve-tree",{attrs:{data:e.chartData,settings:e.chartSettings,events:e.events,height:"600px"}})],1):"表格视图"===e.showTypeValue?a("el-col",{attrs:{span:24}},[a("div",{staticClass:"platformContainer",staticStyle:{"margin-bottom":"10px"}},[a("tableView",{attrs:{tableData:e.DepartmentTableData,relatedTableData:e.RoleTableData},on:{getTableData:e.getDepartmentTable}})],1),e._v(" "),a("div",{staticClass:"platformContainer",staticStyle:{"margin-bottom":"10px"}},[a("tableView",{attrs:{tableData:e.RoleTableData},on:{getTableData:e.getRoleTable}})],1)]):e._e(),e._v(" "),a("el-drawer",{attrs:{visible:e.departmentDrawer,"with-header":!1},on:{"update:visible":function(t){e.departmentDrawer=t}}},[a("div",{staticStyle:{padding:"20px"}},[a("h3",[e._v(e._s(e.drawerTitle))]),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.departmentForm,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"所属区域"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.departmentForm.factory_name,callback:function(t){e.$set(e.departmentForm,"factory_name",t)},expression:"departmentForm.factory_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门名称",prop:"department_name"}},[a("el-input",{model:{value:e.departmentForm.department_name,callback:function(t){e.$set(e.departmentForm,"department_name",t)},expression:"departmentForm.department_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门编码",prop:"department_code"}},[a("el-input",{model:{value:e.departmentForm.department_code,callback:function(t){e.$set(e.departmentForm,"department_code",t)},expression:"departmentForm.department_code"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.departmentSave("ruleForm")}}},[e._v("保存")])],1)],1)],1)]),e._v(" "),a("el-drawer",{attrs:{visible:e.roleDrawer,"with-header":!1},on:{"update:visible":function(t){e.roleDrawer=t}}},[a("div",{staticStyle:{padding:"20px"}},[a("h3",[e._v(e._s(e.drawerTitle))]),e._v(" "),a("el-form",{ref:"roleRuleForm",attrs:{model:e.roleForm,"label-width":"80px",rules:e.roleRules}},[a("el-form-item",{attrs:{label:"所属部门"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.roleForm.department_name,callback:function(t){e.$set(e.roleForm,"department_name",t)},expression:"roleForm.department_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色名称",prop:"role_name"}},[a("el-input",{model:{value:e.roleForm.role_name,callback:function(t){e.$set(e.roleForm,"role_name",t)},expression:"roleForm.role_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色编码",prop:"role_code"}},[a("el-input",{model:{value:e.roleForm.role_code,callback:function(t){e.$set(e.roleForm,"role_code",t)},expression:"roleForm.role_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色描述",prop:"role_description"}},[a("el-input",{model:{value:e.roleForm.role_description,callback:function(t){e.$set(e.roleForm,"role_description",t)},expression:"roleForm.role_description"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.roleSave("roleRuleForm")}}},[e._v("保存")])],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"选择操作",visible:e.handleDialogVisible,width:"30%"},on:{"update:visible":function(t){e.handleDialogVisible=t}}},[a("el-form",[a("el-form-item",[a("el-radio-group",{attrs:{fill:"#082F4C",size:"small"},on:{change:e.handleChange},model:{value:e.handleValue,callback:function(t){e.handleValue=t},expression:"handleValue"}},e._l(e.handleSettings,function(e){return a("el-radio-button",{key:e.label,attrs:{label:e.label}})}),1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var x=a("C7Lr")(F,S,!1,function(e){a("BoPd")},"data-v-f704e6b6",null).exports,E={name:"Permission",components:{tableView:k},data:function(){return{PermissionTableData:{tableName:"AreaMaintain",column:[{label:"ID",prop:"ID",type:"input",value:"",disabled:!0,showField:!1,searchProp:!1},{prop:"AreaCode",label:"区域编码",type:"input",value:""},{prop:"AreaName",label:"区域名称",type:"input",value:""},{prop:"FactoryName",label:"所属厂区",type:"input",value:""}],data:[],limit:5,offset:1,total:0,tableSelection:!0,searchProp:"",searchVal:"",multipleSelection:[],dialogVisible:!1,dialogTitle:"",handleType:[{type:"primary",label:"添加"},{type:"warning",label:"修改"},{type:"danger",label:"删除"}]}}},created:function(){this.getPermissionTable()},methods:{getPermissionTable:function(){var e=this,t={tableName:this.PermissionTableData.tableName,limit:this.PermissionTableData.limit,offset:this.PermissionTableData.offset-1};this.axios.get("/api/CUID",{params:t}).then(function(t){if("200"===t.data.code){var a=t.data.data;e.PermissionTableData.data=a.rows,e.PermissionTableData.total=a.total}},function(e){console.log("请求错误")})}}},N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"platformContainer"},[t("tableView",{attrs:{tableData:this.PermissionTableData},on:{getTableData:this.getPermissionTable}})],1)])],1)},staticRenderFns:[]};var M=a("C7Lr")(E,N,!1,function(e){a("sqsq")},"data-v-6aa38734",null).exports,I={name:"Role",components:{tableView:k},data:function(){return{TableData:{tableName:"Role",column:[{label:"ID",prop:"ID",type:"input",value:"",disabled:!0,showField:!1,searchProp:!1},{prop:"RoleName",label:"角色名称",type:"input",value:"",showField:!0,searchProp:!0},{prop:"RoleCode",label:"角色编码",type:"input",value:"",showField:!0,searchProp:!0},{prop:"Description",label:"描述",type:"input",value:"",showField:!0,searchProp:!1},{prop:"ParentNode",label:"所属部门",type:"input",value:"",showField:!0,searchProp:!0}],data:[],limit:5,offset:1,total:0,multipleSelection:[],tableSelection:!0,searchProp:"",searchVal:"",handleType:[{type:"primary",label:"分配权限",clickEvent:"privileges",hasPermissions:["分配权限"]}]},dialogVisible:!1,selectRoleName:"",transferValue:[],transferData:[]}},created:function(){this.getRoleTable()},methods:{getRoleTable:function(){var e=this,t={tableName:this.TableData.tableName,limit:this.TableData.limit,offset:this.TableData.offset-1};this.axios.get("/api/CUID",{params:t}).then(function(t){if("200"===t.data.code){var a=t.data.data;e.TableData.data=a.rows,e.TableData.total=a.total}},function(e){console.log("请求错误")})},privileges:function(){if(1===this.TableData.multipleSelection.length){this.dialogVisible=!0,this.selectRoleName="为 "+this.TableData.multipleSelection[0].RoleName+" 分配权限",this.transferData=[],this.transferValue=[];var e=this,t={roleID:this.TableData.multipleSelection[0].ID};this.axios.get("/api/permission/selectpermissionbyrole",{params:t}).then(function(t){t.data.notHaveRows.forEach(function(t){e.transferData.push({key:t.ID,label:t.PermissionName})}),t.data.existingRows.forEach(function(t){e.transferValue.push(t.ID)})},function(e){console.log("获取权限时请求错误")})}else this.$message({type:"info",message:"请选择一条角色进行分配"})},savePrivileges:function(){var e=this,t=[];this.transferValue.forEach(function(e){t.push(e)});var a={roleID:this.TableData.multipleSelection[0].ID,permissionIDs:_()(t)};this.axios.post("/api/permission/saverolepermission",this.qs.stringify(a)).then(function(t){"200"===t.data.code&&(e.$message({type:"success",message:"分配成功"}),e.dialogVisible=!1)},function(e){console.log("保存权限时请求错误")})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"platformContainer"},[a("tableView",{attrs:{tableData:e.TableData},on:{getTableData:e.getRoleTable,privileges:e.privileges}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.selectRoleName,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-transfer",{attrs:{titles:["未拥有权限","已分配权限"],"button-texts":["收回","分配"],data:e.transferData},model:{value:e.transferValue,callback:function(t){e.transferValue=t},expression:"transferValue"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.savePrivileges}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var L=a("C7Lr")(I,R,!1,function(e){a("wVyu")},"data-v-b0a6564c",null).exports,P={name:"TeamGroup",components:{tableView:k},data:function(){return{TableData:{tableName:"ShiftsGroup",column:[{prop:"ID",label:"ID",type:"input",value:"",disabled:!0,showField:!1,searchProp:!1},{prop:"ShiftsGroupCode",label:"班组号",type:"input",value:""},{prop:"ShiftsGroupName",label:"班组名称",type:"input",value:""},{prop:"ShiftsGroupType",label:"班组类型",type:"input",value:""},{prop:"Description",label:"描述",type:"input",value:"",showField:!1,searchProp:!1}],data:[],limit:5,offset:1,total:0,searchProp:"",tableSelection:!0,tableSelectionRadio:!1,searchVal:"",multipleSelection:[],dialogVisible:!1,dialogTitle:"",handleType:[{type:"primary",label:"添加",hasPermissions:["管理人员"]},{type:"warning",label:"修改",hasPermissions:["管理人员"]},{type:"danger",label:"删除",hasPermissions:["管理人员"]}]}}},created:function(){this.getRoleTable()},methods:{getRoleTable:function(){var e=this,t={tableName:this.TableData.tableName,limit:this.TableData.limit,offset:this.TableData.offset-1};this.axios.get("/api/CUID",{params:t}).then(function(t){if("200"===t.data.code){var a=t.data.data;e.TableData.data=a.rows,e.TableData.total=a.total}},function(e){console.log("请求错误")})}}},V={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"platformContainer"},[t("tableView",{attrs:{tableData:this.TableData},on:{getTableData:this.getRoleTable}})],1)])],1)},staticRenderFns:[]};var j=a("C7Lr")(P,V,!1,function(e){a("4wxY")},"data-v-15277536",null).exports,q=(a("zH3I"),{name:"Personnel",components:{tableView:k},data:function(){return{TableData:{tableName:"User",column:[{label:"ID",prop:"ID",type:"input",value:"",disabled:!0,showField:!1,searchProp:!1},{prop:"Name",label:"用户名",type:"input",value:""},{prop:"WorkNumber",label:"工号",type:"input",value:""},{prop:"Password",label:"密码",type:"input",value:"",showField:!1,searchProp:!1},{prop:"Creater",label:"创建人",type:"input",value:"",searchProp:!1,canSubmit:!1},{prop:"LastLoginTime",label:"最近登录时间",type:"input",value:"",searchProp:!1,canSubmit:!1}],data:[],limit:5,offset:1,total:0,searchProp:"",tableSelection:!0,tableSelectionRadio:!1,searchVal:"",multipleSelection:[],dialogVisible:!1,dialogTitle:"",handleType:[{type:"primary",label:"添加",hasPermissions:["管理人员"]},{type:"warning",label:"修改",hasPermissions:["管理人员"]},{type:"danger",label:"删除",hasPermissions:["管理人员"]},{type:"primary",label:"分配角色",clickEvent:"privileges",hasPermissions:["分配权限"]},{type:"primary",label:"分配班组",clickEvent:"teamGroup",hasPermissions:["管理人员"]}]},selectPersonnelName:"",dialogVisible:!1,transferValue:[],transferData:[],teamGroupDialogVisible:!1,transferTeamGroupValue:[],transferTeamGroupData:[]}},created:function(){},mounted:function(){this.getTableData()},methods:{getTableData:function(){var e=this,t={tableName:this.TableData.tableName,limit:this.TableData.limit,offset:this.TableData.offset-1};this.axios.get("/api/CUID",{params:t}).then(function(t){if("200"===t.data.code){var a=t.data.data;e.TableData.data=a.rows,e.TableData.total=a.total}},function(e){console.log("请求错误")})},privileges:function(){if(1===this.TableData.multipleSelection.length){this.dialogVisible=!0,this.selectPersonnelName="为 "+this.TableData.multipleSelection[0].Name+" 分配角色",this.transferData=[],this.transferValue=[];var e=this,t={UserID:this.TableData.multipleSelection[0].ID};this.axios.get("/api/role_management/selectrolebyuser",{params:t}).then(function(t){t.data.notHaveRows.forEach(function(t){e.transferData.push({key:t.ID,label:t.RoleName})}),t.data.existingRows.forEach(function(t){e.transferValue.push(t.ID)})},function(e){console.log("获取角色时请求错误")})}else this.$message({type:"info",message:"请选择一位人员进行分配"})},savePrivileges:function(){var e=this,t=[];this.transferValue.forEach(function(e){t.push(e)});var a={UserID:this.TableData.multipleSelection[0].ID,RoleIDs:_()(t)};this.axios.post("/api/role_management/saveroleuser",this.qs.stringify(a)).then(function(t){"200"===t.data.code&&(e.$message({type:"success",message:"分配成功"}),e.dialogVisible=!1)},function(e){console.log("保存角色时请求错误")})},teamGroup:function(){if(1===this.TableData.multipleSelection.length){this.teamGroupDialogVisible=!0,this.selectPersonnelName="为 "+this.TableData.multipleSelection[0].Name+" 分配班组",this.transferTeamGroupData=[],this.transferTeamGroupValue=[];var e=this,t={userID:this.TableData.multipleSelection[0].ID};this.axios.get("/api/selectUserShiftsGroup",{params:t}).then(function(t){t.data.notHaveRows.forEach(function(t){e.transferTeamGroupData.push({key:t.ID,label:t.ShiftsGroupName})}),t.data.existingRows.forEach(function(t){e.transferTeamGroupValue.push(t.ID)})},function(e){console.log("获取班组时请求错误")})}else this.$message({type:"info",message:"请选择一位人员进行分配"})},saveTeamGroup:function(){var e=this,t=[];this.transferTeamGroupValue.forEach(function(e){t.push(e)});var a={userID:this.TableData.multipleSelection[0].ID,shiftsgroupIDs:_()(t)};this.axios.post("/api/saveuserusershiftsgroup",this.qs.stringify(a)).then(function(t){"200"===t.data.code&&(e.$message({type:"success",message:"分配成功"}),e.teamGroupDialogVisible=!1)},function(e){console.log("保存班组时请求错误")})}}}),z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:24}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"platformContainer"},[a("tableView",{attrs:{tableData:e.TableData},on:{getTableData:e.getTableData,privileges:e.privileges,teamGroup:e.teamGroup}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.selectPersonnelName,visible:e.dialogVisible,width:"50%","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-transfer",{attrs:{titles:["未拥有角色","已分配角色"],"button-texts":["收回","分配"],data:e.transferData},model:{value:e.transferValue,callback:function(t){e.transferValue=t},expression:"transferValue"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.savePrivileges}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.selectPersonnelName,visible:e.teamGroupDialogVisible,width:"50%"},on:{"update:visible":function(t){e.teamGroupDialogVisible=t}}},[a("el-transfer",{attrs:{titles:["未拥有班组","已分配班组"],"button-texts":["收回","分配"],data:e.transferTeamGroupData},model:{value:e.transferTeamGroupValue,callback:function(t){e.transferTeamGroupValue=t},expression:"transferTeamGroupValue"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.teamGroupDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTeamGroup}},[e._v("保存")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var U=a("C7Lr")(q,z,!1,function(e){a("jTKa")},"data-v-28ba07e2",null).exports,A={name:"Permission",components:{tableView:k},data:function(){return{PermissionTableData:{tableName:"Permission",column:[{label:"ID",prop:"ID",type:"input",value:"",disabled:!0,showField:!1,searchProp:!1},{prop:"PermissionName",label:"权限名字",type:"input",value:""},{prop:"Description",label:"描述",type:"input",value:"",searchProp:!1},{prop:"PermissionType",label:"权限类型",type:"input",value:""},{prop:"CreateData",label:"创建时间",type:"input",value:"",showField:!1,searchProp:!1,canSubmit:!1}],data:[],limit:5,offset:1,total:0,tableSelection:!0,searchProp:"",searchVal:"",multipleSelection:[],dialogVisible:!1,dialogTitle:"",handleType:[{type:"primary",label:"添加"},{type:"warning",label:"修改"},{type:"danger",label:"删除"}]}}},created:function(){this.getPermissionTable()},methods:{getPermissionTable:function(){var e=this,t={tableName:this.PermissionTableData.tableName,limit:this.PermissionTableData.limit,offset:this.PermissionTableData.offset-1};this.axios.get("/api/CUID",{params:t}).then(function(t){if("200"===t.data.code){var a=t.data.data;e.PermissionTableData.data=a.rows,e.PermissionTableData.total=a.total}},function(e){console.log("请求错误")})}}},$={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"platformContainer"},[t("tableView",{attrs:{tableData:this.PermissionTableData},on:{getTableData:this.getPermissionTable}})],1)])],1)},staticRenderFns:[]};var G=a("C7Lr")(A,$,!1,function(e){a("ldLt")},"data-v-8eaa0cc0",null).exports,O=a("zH3I"),W={name:"Log",components:{tableView:k},data:function(){return{TableData:{tableName:"SysLog",column:[{label:"ID",prop:"ID",type:"input",value:"",disabled:!0,showField:!1,searchProp:!1},{prop:"IP",label:"IP",showField:!0,searchProp:!0},{prop:"ComputerName",label:"计算机名称",showField:!0,searchProp:!1},{prop:"UserName",label:"操作用户",showField:!0,searchProp:!0},{prop:"OperationDate",width:"160",label:"操作日期",showField:!0,searchProp:!0},{prop:"OperationContent",width:"600",label:"操作内容",showField:!0,searchProp:!1},{prop:"OperationType",width:"80",label:"类型",showField:!0,searchProp:!0}],data:[],limit:5,offset:1,total:0},formParameters:{searchDate:O().format("YYYY-MM-DD")}}},mounted:function(){this.searchLogDate()},methods:{searchLogDate:function(){var e=this,t={tableName:this.TableData.tableName,OperationDate:O(this.formParameters.searchDate).format("YYYY-MM-DD"),limit:this.TableData.limit,offset:this.TableData.offset-1};this.axios.get("/api/CUID",{params:t}).then(function(t){if("200"===t.data.code){var a=t.data.data;e.TableData.data=a.rows,e.TableData.total=a.total}},function(e){console.log("请求错误")})}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"platformContainer"},[a("el-form",{attrs:{inline:!0,model:e.formParameters}},[a("el-form-item",{attrs:{label:"选择查询时间"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",size:"mini",format:"yyyy-MM-dd",clearable:!1},on:{change:e.searchLogDate},model:{value:e.formParameters.searchDate,callback:function(t){e.$set(e.formParameters,"searchDate",t)},expression:"formParameters.searchDate"}})],1)],1),e._v(" "),a("tableView",{attrs:{tableData:e.TableData},on:{getTableData:e.searchLogDate}})],1)])],1)},staticRenderFns:[]};var Y=a("C7Lr")(W,B,!1,function(e){a("P7VY")},"data-v-3dd3375f",null).exports,H=a("S7FU"),Z=a.n(H),Q=(a("Tw5w"),a("zH3I"),{name:"flowGraph",data:function(){return{FlowtableName:"TechnologicalProcess",FlowData:[],dialogVisible:!1,formParameters:{ProcessName:"",Icon:""},selectRow:"",selectFlowData:"",modeRadio:"拖拽模式",modeRadioList:[{label:"拖拽模式"},{label:"连线模式"},{label:"点啥删啥"}],graph:null,toolbar:null,clickNode:{},clickModel:{},group:[{label:"圆形",class:"circleNode",type:"circle"},{label:"矩形",class:"rectNode",type:"rect"},{label:"菱形",class:"diamondNode",type:"diamond"},{label:"三角形",class:"triangleNode",type:"triangle"}],nodeType:""}},mounted:function(){this.getFlow()},methods:{getFlow:function(){var e=this,t={tableName:this.FlowtableName};this.axios.get("/api/CUID",{params:t}).then(function(t){if("200"===t.data.code){var a=t.data.data;e.FlowData=a.rows}},function(e){console.log("请求错误")})},addFlow:function(){this.dialogVisible=!0},saveAddFlow:function(){var e=this;if(""!=this.formParameters.ProcessName){""===this.formParameters.Icon&&(this.formParameters.Icon="el-icon-share");var t={tableName:this.FlowtableName,ProcessName:this.formParameters.ProcessName,Icon:this.formParameters.Icon};this.axios.post("/api/CUID",this.qs.stringify(t)).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:t.data.message}),e.getFlow()):e.$message({type:"info",message:t.data.message}),e.dialogVisible=!1},function(e){console.log("请求错误")})}else this.$message({type:"info",message:"请输入流程名称"})},toG6:function(e){var t=this;this.selectRow=e,this.selectFlowData={},this.FlowData.forEach(function(a){a.ProcessName===e.ProcessName&&("None"!=a.ProcessStructure?t.selectFlowData=JSON.parse(a.ProcessStructure):t.selectFlowData={})}),this.graph&&this.graph.destroy(),this.init()},saveFlow:function(){var e=this,t={tableName:this.FlowtableName,ID:this.selectRow.ID,ProcessStructure:_()(this.graph.save())};this.axios.put("/api/CUID",this.qs.stringify(t)).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:t.data.message}),e.getFlow()):e.$message({type:"info",message:t.data.message})})},delFlow:function(){var e=this;if(this.selectRow.ProcessName&&this.selectRow.ID){var t={tableName:this.FlowtableName},a=[];a.push({id:this.selectRow.ID}),t.delete_data=_()(a),this.$confirm("确定删除"+this.selectRow.ProcessName+"流程？","提示",{distinguishCancelAndClose:!0,type:"warning"}).then(function(){e.axios.delete("/api/CUID",{params:t}).then(function(t){"200"===t.data.code&&e.$message({type:"success",message:t.data.message}),e.getFlow()},function(e){console.log("请求错误")})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}else this.$message({type:"info",message:"请选择一项流程进行删除"})},init:function(){var e=this;this.$nextTick(function(){Z.a.registerEdge("circle-running",{afterDraw:function(e,t){var a=t.get("children")[0],i=a.getPoint(0);t.addShape("circle",{attrs:{x:i.x,y:i.y,fill:"#1890ff",r:3},name:"circle-shape"}).animate(function(e){var t=a.getPoint(e);return{x:t.x,y:t.y}},{repeat:!0,duration:3e3})}},"line"),Z.a.registerBehavior("click-add-edge",{getEvents:function(){return{"node:click":"onClick",mousemove:"onMousemove","edge:click":"onEdgeClick"}},onClick:function(e){var t=e.item,a=this.graph,i=(e.x,e.y,t.getModel());this.addingEdge&&this.edge?(a.updateItem(this.edge,{target:i.id}),this.edge=null,this.addingEdge=!1):(this.edge=a.addItem("edge",{source:i.id,target:i.id},!0),this.addingEdge=!0)},onMousemove:function(e){var t={x:e.x,y:e.y};this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:t})},onEdgeClick:function(e){var t=e.item;this.addingEdge&&this.edge===t&&(this.graph.removeItem(this.edge),this.edge=null,this.addingEdge=!1)}}),Z.a.registerBehavior("click-remove",{getEvents:function(){return{"node:click":"onClick","edge:click":"onEdgeClick"}},onClick:function(e){var t=e.item,a=this.graph,i=t.getModel();a.removeItem(i.id,!0)},onEdgeClick:function(e){var t=e.item.getModel();this.graph.removeItem(t.id,!0)}});var t=document.getElementById("container").scrollWidth,a=document.getElementById("container").scrollHeight;e.toolbar=new Z.a.ToolBar,e.graph=new Z.a.Graph({container:"container",width:t,height:a,linkCenter:!0,plugins:[e.toolbar],enabledStack:!0,modes:{default:["drag-canvas","zoom-canvas","click-select","drag-node"],addNode:["click-add-node"],addEdge:["click-add-edge"],remove:["click-remove"]},layout:{type:"dagre",nodesepFunc:function(e){return"3"===e.id?500:50},ranksep:70,controlPoints:!0},defaultNode:{size:[160,80],style:{fill:"#9EC9FF",stroke:"#5B8FF9",lineWidth:3},labelCfg:{style:{fill:"#000",fontSize:18}}},defaultEdge:{type:"circle-running",style:{endArrow:{path:Z.a.Arrow.vee(10,20,40)},lineWidth:2,stroke:"#000"}},nodeStateStyles:{selected:{stroke:"#d9d9d9",fill:"#5394ef"}},fitView:!0}),e.graph.read(e.selectFlowData),e.graph.on("node:click",function(t){t.item;var a=t.target,i=a.get("type");a.get("name");"text"!==i&&"rect"!==i&&"path"!==i&&"circle"!==i||(e.clickNode=t.item,e.clickModel=t.item.getModel())})})},changeMode:function(){"拖拽模式"===this.modeRadio?this.graph.setMode("default"):"连线模式"===this.modeRadio?this.graph.setMode("addEdge"):"点啥删啥"===this.modeRadio&&this.graph.setMode("remove")},changeNode:function(e){this.clickModel.label&&this.graph.updateItem(this.clickModel.id,{label:e})},onDragstart:function(e){this.nodeType=e.target.attributes.type.value},onDragend:function(e){},onDragover:function(e){},onDragenter:function(e){},onDrop:function(e){"triangle"===this.nodeType?this.graph.addItem("node",{x:e.offsetX,y:e.offsetY,id:Date.now().toString(),label:"node",type:this.nodeType,size:[80,80]},!0):this.graph.addItem("node",{x:e.offsetX,y:e.offsetY,id:Date.now().toString(),label:"node",type:this.nodeType},!0)}}}),J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"cardContainer"},[e._l(e.FlowData,function(t,i){return a("el-col",{key:i,attrs:{span:6}},[a("div",{staticClass:"colItemContainer text-center"},[a("div",{class:{"color-lightgreen":t.ProcessName===e.selectRow.ProcessName},on:{click:function(a){return e.toG6(t)}}},[a("p",{staticClass:"marginBottom-10 text-size-48"},[a("i",{class:t.Icon})]),e._v(" "),a("p",{staticClass:"text-size-16"},[e._v(e._s(t.ProcessName))])])])])}),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"colItemContainer text-center"},[a("p",{staticClass:"marginBottom marginTop text-size-48",on:{click:e.addFlow}},[a("i",{staticClass:"el-icon-circle-plus-outline"})])]),e._v(" "),a("el-dialog",{attrs:{title:"添加流程",visible:e.dialogVisible,width:"50%","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.formParameters,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"流程名称"}},[a("el-input",{model:{value:e.formParameters.ProcessName,callback:function(t){e.$set(e.formParameters,"ProcessName",t)},expression:"formParameters.ProcessName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"展示图标"}},[a("el-input",{model:{value:e.formParameters.Icon,callback:function(t){e.$set(e.formParameters,"Icon",t)},expression:"formParameters.Icon"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddFlow}},[e._v("保存")])],1)],1)],1)],2)]),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-radio-group",{attrs:{size:"mini"},on:{change:e.changeMode},model:{value:e.modeRadio,callback:function(t){e.modeRadio=t},expression:"modeRadio"}},e._l(e.modeRadioList,function(e,t){return a("el-radio-button",{key:t,attrs:{label:e.label}})}),1)],1),e._v(" "),a("el-form-item",[a("div",{staticClass:"container",attrs:{draggable:"false"}},e._l(e.group,function(t,i){return a("div",{key:i,class:t.class,attrs:{type:t.type,draggable:"true"},on:{dragstart:function(t){return e.onDragstart(t)},dragend:function(t){return e.onDragend(t)}}},[e._v("\n                "+e._s(t.label)+"\n              ")])}),0)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small"},on:{click:e.saveFlow}},[e._v("保存流程结构")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.delFlow}},[e._v("删除流程")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"platformContainer"},[a("div",{staticClass:"onDown",attrs:{draggable:"false"},on:{dragover:function(t){return e.onDragover(t)},dragenter:function(t){return e.onDragenter(t)},drop:function(t){return e.onDrop(t)}}},[a("div",{staticStyle:{position:"relative",width:"100%",height:"600px"},attrs:{id:"container"}})])])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"platformContainer"},[a("el-form",{model:{value:e.clickModel,callback:function(t){e.clickModel=t},expression:"clickModel"}},[a("el-form-item",{attrs:{label:"节点名称"}},[a("el-input",{attrs:{size:"small"},on:{change:e.changeNode},model:{value:e.clickModel.label,callback:function(t){e.$set(e.clickModel,"label",t)},expression:"clickModel.label"}})],1)],1)],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]};var X=a("C7Lr")(Q,J,!1,function(e){a("tzg+")},"data-v-2f0e2641",null).exports,K={name:"BuildTable",data:function(){return{TableList:[],CreateTableDialogVisible:!1,CreateTableField:{TableName:"",TableDescrip:""},FieldList:[],CreateFieldListField:{TableName:"",TitleName:"",FieldName:"",length:"",type:"VARCHAR",comment:"",primarykey:"False",autoincrement:"False",nullable:"True"},FieldSetDialogVisible:!1}},mounted:function(){this.getTable()},methods:{getTable:function(){var e=this;this.axios.get("/api/CUID",{params:{tableName:"CreateTableSet"}}).then(function(t){"200"===t.data.code?(e.TableList=[],e.TableList=t.data.data.rows,e.getFieldSet()):e.$message({type:"info",message:t.data.message})})},saveCreateTable:function(){var e=this,t=this;if(t.CreateTableField.TableName||t.CreateTableField.TableDescrip){var a={tableName:"CreateTableSet",TableName:this.CreateTableField.TableName,TableDescrip:this.CreateTableField.TableDescrip};this.axios.post("/api/CUID",this.qs.stringify(a)).then(function(a){"200"===a.data.code?(e.$message({type:"success",message:a.data.message}),e.CreateTableDialogVisible=!1,e.getTable()):t.$message({type:"info",message:a.data.message})})}else t.$message({type:"info",message:"表单不可为空"})},getFieldSet:function(){var e=this;this.axios.get("/api/CUID",{params:{tableName:"FieldSet"}}).then(function(t){"200"===t.data.code?(e.TableList.forEach(function(e){e.FieldList=[],t.data.data.rows.forEach(function(t){e.TableName===t.TableName&&e.FieldList.push(t)})}),e.$set(e.TableList)):e.$message({type:"info",message:t.data.message})})},addField:function(e){this.FieldSetDialogVisible=!0,this.CreateFieldListField.TableName=e},removeTable:function(e){var t=this,a=[{id:e}],i={tableName:"CreateTableSet",delete_data:_()(a)};this.$confirm("确定删除所选表？","提示",{distinguishCancelAndClose:!0,type:"warning"}).then(function(){t.axios.delete("/api/CUID",{params:i}).then(function(e){"200"===e.data.code&&(t.$message({type:"success",message:e.data.message}),t.getTable())},function(e){console.log("请求错误")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},saveFieldSet:function(){var e=this,t=this,a={tableName:"FieldSet",TableName:this.CreateFieldListField.TableName,TitleName:this.CreateFieldListField.TitleName,FieldName:this.CreateFieldListField.FieldName,length:this.CreateFieldListField.length,type:this.CreateFieldListField.type,comment:this.CreateFieldListField.comment,primarykey:this.CreateFieldListField.primarykey,autoincrement:this.CreateFieldListField.autoincrement,nullable:this.CreateFieldListField.nullable};this.axios.post("/api/CUID",this.qs.stringify(a)).then(function(a){"200"===a.data.code?(e.$message({type:"success",message:a.data.message}),e.FieldSetDialogVisible=!1,e.getTable()):t.$message({type:"info",message:a.data.message})})},removeField:function(e){var t=this,a=this,i=[{id:e}],l={tableName:"FieldSet",delete_data:_()(i)};this.$confirm("确定删除所选字段？","提示",{distinguishCancelAndClose:!0,type:"warning"}).then(function(){t.axios.delete("/api/CUID",{params:l}).then(function(e){"200"===e.data.code&&(a.$message({type:"success",message:e.data.message}),a.getTable())},function(e){console.log("请求错误")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},buildTable:function(e){var t=this,a=this;this.$confirm("确定新建此模型吗？","提示",{distinguishCancelAndClose:!0,type:"warning"}).then(function(){var i={ID:e};t.axios.post("/api/system_set/make_model",t.qs.stringify(i)).then(function(e){"200"===e.data.code?(t.$message({type:"success",message:e.data.message}),t.getTable()):a.$message({type:"info",message:e.data.message})})}).catch(function(){t.$message({type:"info",message:"已取消操作"})})}}},ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"platformContainer"},[a("el-col",{staticClass:"marginBottom",attrs:{span:4}},[a("el-card",{staticClass:"box-card text-center"},[a("i",{staticClass:"el-icon-circle-plus-outline text-size-24",staticStyle:{width:"100%"},on:{click:function(t){e.CreateTableDialogVisible=!0}}})])],1),e._v(" "),e._l(e.TableList,function(t,i){return a("el-col",{key:i,staticClass:"marginBottom",attrs:{span:4}},[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"20px 20px 50px",height:"200px"}}},[a("div",{staticClass:"text-size-14",attrs:{slot:"header"},slot:"header"},[a("p",[e._v(e._s(t.TableName)+"-"+e._s(t.TableDescrip))])]),e._v(" "),a("div",{staticClass:"scrollable"},e._l(t.FieldList,function(t,i){return a("div",{key:i},[a("el-tooltip",{attrs:{effect:"light",placement:"top"}},[a("p",{attrs:{slot:"content"},slot:"content"},[e._v("\n                  字段名称:"+e._s(t.TitleName)),a("br"),e._v("\n                  字段:"+e._s(t.FieldName)),a("br"),e._v("\n                  VARCHAR长度:"+e._s(t.length)),a("br"),e._v("\n                  字段类型:"+e._s(t.type)),a("br"),e._v("\n                  字段注释:"+e._s(t.comment)),a("br"),e._v("\n                  是否为主键:"+e._s(t.primarykey)),a("br"),e._v("\n                  是否自增:"+e._s(t.autoincrement)),a("br"),e._v("\n                  是否为空:"+e._s(t.nullable)),a("br"),e._v("\n                  状态:"+e._s(t.Status)+"\n                ")]),e._v(" "),a("p",{staticClass:"text-size-12 marginBottom-5"},[a("span",{class:{"color-success":"使用中"===t.Status}},[e._v(e._s(t.TitleName)+" "+e._s(t.FieldName))]),e._v(" "),a("span",{staticClass:"el-icon-remove-outline floatRight cursor-pointer color-red",on:{click:function(a){return e.removeField(t.ID)}}})])])],1)}),0),e._v(" "),a("div",{staticStyle:{"line-height":"50px","border-top":"1px solid #eee","text-align":"center"}},[a("p",[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus",circle:""},on:{click:function(a){return e.addField(t.TableName)}}}),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-minus",circle:""},on:{click:function(a){return e.removeTable(t.ID)}}}),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-check",circle:""},on:{click:function(a){return e.buildTable(t.ID)}}})],1)])])],1)})],2),e._v(" "),a("el-dialog",{attrs:{title:"建表",visible:e.CreateTableDialogVisible,width:"40%"},on:{"update:visible":function(t){e.CreateTableDialogVisible=t}}},[a("el-form",{attrs:{model:e.CreateTableField}},[a("el-form-item",{attrs:{label:"表名"}},[a("el-input",{model:{value:e.CreateTableField.TableName,callback:function(t){e.$set(e.CreateTableField,"TableName",t)},expression:"CreateTableField.TableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{model:{value:e.CreateTableField.TableDescrip,callback:function(t){e.$set(e.CreateTableField,"TableDescrip",t)},expression:"CreateTableField.TableDescrip"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.CreateTableDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveCreateTable}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加字段",visible:e.FieldSetDialogVisible,width:"40%","close-on-click-modal":!1,"append-to-body":!0},on:{"update:visible":function(t){e.FieldSetDialogVisible=t}}},[a("el-form",{attrs:{model:e.CreateFieldListField,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"表名"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.CreateFieldListField.TableName,callback:function(t){e.$set(e.CreateFieldListField,"TableName",t)},expression:"CreateFieldListField.TableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段名称"}},[a("el-input",{model:{value:e.CreateFieldListField.TitleName,callback:function(t){e.$set(e.CreateFieldListField,"TitleName",t)},expression:"CreateFieldListField.TitleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段"}},[a("el-input",{model:{value:e.CreateFieldListField.FieldName,callback:function(t){e.$set(e.CreateFieldListField,"FieldName",t)},expression:"CreateFieldListField.FieldName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"VARCHAR长度"}},[a("el-input",{model:{value:e.CreateFieldListField.length,callback:function(t){e.$set(e.CreateFieldListField,"length",t)},expression:"CreateFieldListField.length"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CreateFieldListField.type,callback:function(t){e.$set(e.CreateFieldListField,"type",t)},expression:"CreateFieldListField.type"}},[a("el-option",{attrs:{label:"VARCHAR",value:"VARCHAR"}}),e._v(" "),a("el-option",{attrs:{label:"DATETIME",value:"DATETIME"}}),e._v(" "),a("el-option",{attrs:{label:"INT",value:"INT"}}),e._v(" "),a("el-option",{attrs:{label:"DINT",value:"DINT"}}),e._v(" "),a("el-option",{attrs:{label:"TRUE",value:"TRUE"}}),e._v(" "),a("el-option",{attrs:{label:"FALSE",value:"FALSE"}}),e._v(" "),a("el-option",{attrs:{label:"BOOL",value:"BOOL"}}),e._v(" "),a("el-option",{attrs:{label:"FLOAT",value:"FLOAT"}}),e._v(" "),a("el-option",{attrs:{label:"REAL",value:"REAL"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"字段注释"}},[a("el-input",{model:{value:e.CreateFieldListField.comment,callback:function(t){e.$set(e.CreateFieldListField,"comment",t)},expression:"CreateFieldListField.comment"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否为主键"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CreateFieldListField.primarykey,callback:function(t){e.$set(e.CreateFieldListField,"primarykey",t)},expression:"CreateFieldListField.primarykey"}},[a("el-option",{attrs:{label:"True",value:"True"}}),e._v(" "),a("el-option",{attrs:{label:"False",value:"False"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否自增"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CreateFieldListField.autoincrement,callback:function(t){e.$set(e.CreateFieldListField,"autoincrement",t)},expression:"CreateFieldListField.autoincrement"}},[a("el-option",{attrs:{label:"True",value:"True"}}),e._v(" "),a("el-option",{attrs:{label:"False",value:"False"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否为空"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CreateFieldListField.nullable,callback:function(t){e.$set(e.CreateFieldListField,"nullable",t)},expression:"CreateFieldListField.nullable"}},[a("el-option",{attrs:{label:"True",value:"True"}}),e._v(" "),a("el-option",{attrs:{label:"False",value:"False"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.FieldSetDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveFieldSet}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var te=a("C7Lr")(K,ee,!1,function(e){a("roWi")},"data-v-12e0fe74",null).exports,ae={name:"mobileEquipmentDetails",data:function(){return{EquipmentData:{}}},created:function(){document.title="设备详情",this.getTableData()},methods:{getTableData:function(){var e=this,t=this,a={tableName:"Equipment",EquipmentCode:this.$route.query.EquipmentCode};this.axios.get("/api/CUID",{params:a}).then(function(a){"200"===a.data.code?e.EquipmentData=a.data.data.rows[0]:t.$message({type:"info",message:a.data.message})})}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:24}},[a("mt-header",{attrs:{title:"基本信息"}}),e._v(" "),a("mt-cell",{attrs:{title:"设备编码",value:e.EquipmentData.EquipmentCode}}),e._v(" "),a("mt-cell",{attrs:{title:"设备名称",value:e.EquipmentData.EquipmentName}}),e._v(" "),a("mt-cell",{attrs:{title:"出厂编号",value:e.EquipmentData.LeaveFactoryCode}}),e._v(" "),a("mt-cell",{attrs:{title:"规格型号",value:e.EquipmentData.Specs}}),e._v(" "),a("mt-cell",{attrs:{title:"品牌",value:e.EquipmentData.Brand}}),e._v(" "),a("mt-cell",{attrs:{title:"设备类别",value:e.EquipmentData.EquipmentType}}),e._v(" "),a("mt-cell",{attrs:{title:"供应商",value:e.EquipmentData.Manufacturer}}),e._v(" "),a("mt-cell",{attrs:{title:"放置位置",value:e.EquipmentData.Position}})],1)],1)},staticRenderFns:[]};var le=a("C7Lr")(ae,ie,!1,function(e){a("DUO4")},"data-v-8cc0dc30",null).exports,se={name:"list",data:function(){return{TableData:{data:[],limit:10,offset:1,total:0,multipleSelection:[],dialogTitle:"",dialogVisible:!1,searchField:{EquipmentCode:"",EquipmentName:"",Grade:"",Status:""},fieldModel:{ID:"",EquipmentCode:"",EquipmentName:"",AssetCode:"",LeaveFactoryCode:"",EquipmentType:"",Brand:"",Specs:"",Unit:"",Source:"",Manufacturer:"",Status:"",Grade:"",WarrantyTime:"",UseTime:"",IsCalculate:"",PurchaseTime:"",PurchaseMoney:"",ScrapTime:"",Director:"",Department:"",Position:"",IsDepreciation:"",NetValue:"",TechnicalParameter:"",Comment:""}}}},mounted:function(){this.getTableData()},methods:{getTableData:function(){var e=this,t={tableName:"Equipment",limit:this.TableData.limit,offset:this.TableData.offset-1};for(var a in this.TableData.searchField)this.TableData.searchField[a]&&(t[a]=this.TableData.searchField[a]);this.axios.get("/api/CUID",{params:t}).then(function(t){"200"===t.data.code?(e.TableData.data=t.data.data.rows,e.TableData.total=t.data.data.total):e.$message({type:"info",message:t.data.message})})},handleSizeChange:function(e){this.TableData.limit=e,this.getTableData()},handleCurrentChange:function(e){this.TableData.offset=e,this.getTableData()},handleSelectionChange:function(e){this.TableData.multipleSelection=e},handleSelect:function(e,t){this.$refs.multipleTable.clearSelection(),this.$refs.multipleTable.toggleRowSelection(t),this.$refs.multipleTable.setCurrentRow(t)},handleRowClick:function(e){this.$refs.multipleTable.clearSelection(),this.$refs.multipleTable.toggleRowSelection(e)},add:function(){this.TableData.dialogVisible=!0,this.TableData.dialogTitle="添加"},Edit:function(e,t){for(var a in this.TableData.dialogVisible=!0,this.TableData.dialogTitle="修改",this.TableData.fieldModel)this.TableData.fieldModel[a]=t[a]},Delete:function(e,t){var a=this,i=[{id:t.ID}],l={tableName:"Equipment"};l.delete_data=_()(i),this.$confirm("确定删除设备 "+t.EquipmentName+" 吗？","提示",{distinguishCancelAndClose:!0,type:"warning"}).then(function(){a.axios.delete("/api/CUID",{params:l}).then(function(e){"200"===e.data.code&&a.$message({type:"success",message:e.data.message}),a.getTableData()},function(e){console.log("请求错误")})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},save:function(){var e=this;if("添加"===this.TableData.dialogTitle){var t={tableName:"Equipment"};for(var a in this.TableData.fieldModel)t[a]=this.TableData.fieldModel[a];this.axios.post("/api/CUID",this.qs.stringify(t)).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:t.data.message}),e.TableData.dialogVisible=!1,e.getTableData(),e.CreateQrcode()):e.$message({type:"info",message:t.data.message})},function(e){console.log("请求错误")})}else if("修改"===this.TableData.dialogTitle){t={tableName:"Equipment"};for(var a in this.TableData.fieldModel)t[a]=this.TableData.fieldModel[a];this.axios.put("/api/CUID",this.qs.stringify(t)).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:t.data.message}),e.TableData.dialogVisible=!1,e.getTableData()):e.$message({type:"info",message:t.data.message})},function(e){console.log("请求错误")})}},CreateQrcode:function(){var e=this,t={EquipmentCode:this.TableData.fieldModel.EquipmentCode};this.axios.post("/api/qrcode",this.qs.stringify(t)).then(function(t){"1000"===t.data.code?e.$message({type:"success",message:t.data.msg}):e.$message({type:"info",message:t.data.message})},function(e){console.log("请求错误")})},seeDetails:function(e){this.$store.commit("setEquipmentCode",e),this.$router.push("/EquipmentDetails")}}},ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:15}},["EquipmentDetails"!=e.$route.name?a("el-col",{attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{label:"查询方案："}})],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"设备编号"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入设备编号",size:"mini"},model:{value:e.TableData.searchField.EquipmentCode,callback:function(t){e.$set(e.TableData.searchField,"EquipmentCode",t)},expression:"TableData.searchField.EquipmentCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入设备名称",size:"mini"},model:{value:e.TableData.searchField.EquipmentName,callback:function(t){e.$set(e.TableData.searchField,"EquipmentName",t)},expression:"TableData.searchField.EquipmentName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备等级"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入设备等级",size:"mini"},model:{value:e.TableData.searchField.Grade,callback:function(t){e.$set(e.TableData.searchField,"Grade",t)},expression:"TableData.searchField.Grade"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备状态"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入设备状态",size:"mini"},model:{value:e.TableData.searchField.Status,callback:function(t){e.$set(e.TableData.searchField,"Status",t)},expression:"TableData.searchField.Status"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getTableData}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"platformContainer"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.add}},[e._v("添加设备")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:e.TableData.data,border:"",size:"mini","header-cell-style":{background:"#F5F7FA"}},on:{select:e.handleSelect,"selection-change":e.handleSelectionChange,"row-click":e.handleRowClick}},[a("el-table-column",{attrs:{prop:"EquipmentCode",label:"设备编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{color:"#2196F3"},attrs:{href:"javascript:;"},on:{click:function(a){return e.seeDetails(t.row.EquipmentCode)}}},[e._v(e._s(t.row.EquipmentCode))])]}}],null,!1,1548662844)}),e._v(" "),a("el-table-column",{attrs:{prop:"EquipmentName",label:"设备名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"AssetCode",label:"资产编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"LeaveFactoryCode",label:"出厂编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"EquipmentType",label:"设备类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Specs",label:"规格型号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Unit",label:"单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Source",label:"设备来源"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Manufacturer",label:"供应商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Status",label:"设备状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["正常"===t.row.Status?a("span",{staticClass:"btn-block bg-success color-white"},[e._v(e._s(t.row.Status))]):e._e(),e._v(" "),"带病运行"===t.row.Status?a("span",{staticClass:"btn-block bg-orange color-white"},[e._v(e._s(t.row.Status))]):e._e(),e._v(" "),"闲置"===t.row.Status?a("span",{staticClass:"btn-block bg-darkblue color-white"},[e._v(e._s(t.row.Status))]):e._e(),e._v(" "),"故障"===t.row.Status?a("span",{staticClass:"btn-block bg-red color-white"},[e._v(e._s(t.row.Status))]):e._e(),e._v(" "),"报废"===t.row.Status?a("span",{staticClass:"btn-block bg-grayblack color-white"},[e._v(e._s(t.row.Status))]):e._e()]}}],null,!1,987515250)}),e._v(" "),a("el-table-column",{attrs:{prop:"Grade",label:"设备等级"},scopedSlots:e._u([{key:"default",fn:function(t){return["A"===t.row.Grade?a("span",{staticClass:"btn-block color-white",staticStyle:{background:"#FF5722"}},[e._v("A(关键)")]):e._e(),e._v(" "),"B"===t.row.Grade?a("span",{staticClass:"btn-block color-white",staticStyle:{background:"#813EDB"}},[e._v("B(重要)")]):e._e(),e._v(" "),"C"===t.row.Grade?a("span",{staticClass:"btn-block color-white",staticStyle:{background:"#5FB878"}},[e._v("C(一般)")]):e._e()]}}],null,!1,882867448)}),e._v(" "),a("el-table-column",{attrs:{prop:"WarrantyTime",label:"保修期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UseTime",label:"投产时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"IsCalculate",label:"计量设备"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return e.Edit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.Delete(t.$index,t.row)}}},[e._v("删除")])]}}],null,!1,1246234343)})],1),e._v(" "),a("div",{staticClass:"paginationClass"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.TableData.total,"current-page":e.TableData.offset,"page-sizes":[10,20,30,40,50],"page-size":e.TableData.limit},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.TableData.dialogTitle,visible:e.TableData.dialogVisible,width:"60%","append-to-body":!0},on:{"update:visible":function(t){return e.$set(e.TableData,"dialogVisible",t)}}},[a("el-form",{attrs:{inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"设备编号"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.EquipmentCode,callback:function(t){e.$set(e.TableData.fieldModel,"EquipmentCode",t)},expression:"TableData.fieldModel.EquipmentCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.EquipmentName,callback:function(t){e.$set(e.TableData.fieldModel,"EquipmentName",t)},expression:"TableData.fieldModel.EquipmentName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"资产编号"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.AssetCode,callback:function(t){e.$set(e.TableData.fieldModel,"AssetCode",t)},expression:"TableData.fieldModel.AssetCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出厂编号"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.LeaveFactoryCode,callback:function(t){e.$set(e.TableData.fieldModel,"LeaveFactoryCode",t)},expression:"TableData.fieldModel.LeaveFactoryCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备类别"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.EquipmentType,callback:function(t){e.$set(e.TableData.fieldModel,"EquipmentType",t)},expression:"TableData.fieldModel.EquipmentType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"品牌"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.Brand,callback:function(t){e.$set(e.TableData.fieldModel,"Brand",t)},expression:"TableData.fieldModel.Brand"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"规格型号"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.Specs,callback:function(t){e.$set(e.TableData.fieldModel,"Specs",t)},expression:"TableData.fieldModel.Specs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.Unit,callback:function(t){e.$set(e.TableData.fieldModel,"Unit",t)},expression:"TableData.fieldModel.Unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备来源"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.Source,callback:function(t){e.$set(e.TableData.fieldModel,"Source",t)},expression:"TableData.fieldModel.Source"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"供应商"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.Manufacturer,callback:function(t){e.$set(e.TableData.fieldModel,"Manufacturer",t)},expression:"TableData.fieldModel.Manufacturer"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备状态"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.TableData.fieldModel.Status,callback:function(t){e.$set(e.TableData.fieldModel,"Status",t)},expression:"TableData.fieldModel.Status"}},[a("el-option",{attrs:{label:"正常",value:"正常"}}),e._v(" "),a("el-option",{attrs:{label:"带病运行",value:"带病运行"}}),e._v(" "),a("el-option",{attrs:{label:"闲置",value:"闲置"}}),e._v(" "),a("el-option",{attrs:{label:"故障",value:"故障"}}),e._v(" "),a("el-option",{attrs:{label:"报废",value:"报废"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"设备等级"}},[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.TableData.fieldModel.Grade,callback:function(t){e.$set(e.TableData.fieldModel,"Grade",t)},expression:"TableData.fieldModel.Grade"}},[a("el-option",{attrs:{label:"A(关键)",value:"A"}}),e._v(" "),a("el-option",{attrs:{label:"B(重要)",value:"B"}}),e._v(" "),a("el-option",{attrs:{label:"C(一般)",value:"C"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"保修期"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.WarrantyTime,callback:function(t){e.$set(e.TableData.fieldModel,"WarrantyTime",t)},expression:"TableData.fieldModel.WarrantyTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"投产时间"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.UseTime,callback:function(t){e.$set(e.TableData.fieldModel,"UseTime",t)},expression:"TableData.fieldModel.UseTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"计量设备"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.IsCalculate,callback:function(t){e.$set(e.TableData.fieldModel,"IsCalculate",t)},expression:"TableData.fieldModel.IsCalculate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"购置时间"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.PurchaseTime,callback:function(t){e.$set(e.TableData.fieldModel,"PurchaseTime",t)},expression:"TableData.fieldModel.PurchaseTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"购置金额"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.PurchaseMoney,callback:function(t){e.$set(e.TableData.fieldModel,"PurchaseMoney",t)},expression:"TableData.fieldModel.PurchaseMoney"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预计报废时间"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.ScrapTime,callback:function(t){e.$set(e.TableData.fieldModel,"ScrapTime",t)},expression:"TableData.fieldModel.ScrapTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.Director,callback:function(t){e.$set(e.TableData.fieldModel,"Director",t)},expression:"TableData.fieldModel.Director"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属部门"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.Department,callback:function(t){e.$set(e.TableData.fieldModel,"Department",t)},expression:"TableData.fieldModel.Department"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"放置位置"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.Position,callback:function(t){e.$set(e.TableData.fieldModel,"Position",t)},expression:"TableData.fieldModel.Position"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折旧设备"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.IsDepreciation,callback:function(t){e.$set(e.TableData.fieldModel,"IsDepreciation",t)},expression:"TableData.fieldModel.IsDepreciation"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"当前净值"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.NetValue,callback:function(t){e.$set(e.TableData.fieldModel,"NetValue",t)},expression:"TableData.fieldModel.NetValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"技术参数"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.TechnicalParameter,callback:function(t){e.$set(e.TableData.fieldModel,"TechnicalParameter",t)},expression:"TableData.fieldModel.TechnicalParameter"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TableData.fieldModel.Comment,callback:function(t){e.$set(e.TableData.fieldModel,"Comment",t)},expression:"TableData.fieldModel.Comment"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.TableData.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保 存")])],1)],1)],1)],1):e._e(),e._v(" "),"EquipmentDetails"===e.$route.name?a("el-col",{attrs:{span:24}},[a("router-view",{key:e.$route.fullPath})],1):e._e()],1)},staticRenderFns:[]};var oe=a("C7Lr")(se,ne,!1,function(e){a("KInN")},"data-v-29538ebf",null).exports,re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:24}},[a("el-button",{staticClass:"marginBottom",attrs:{size:"mini"},on:{click:e.returnList}},[e._v("返回列表")]),e._v(" "),a("div",{staticClass:"platformContainer"},[a("span",[e._v("基本信息")]),e._v(" "),e.EquipmentData.QRCode?a("el-image",{staticClass:"floatRight marginBottom",staticStyle:{width:"50px",height:"50px"},attrs:{src:"data:;base64,"+e.EquipmentData.QRCode,"preview-src-list":("data:;base64,"+e.EquipmentData.QRCode).split()}}):e._e(),e._v(" "),a("table",{staticClass:"elementTable text-size-14"},[a("tr",[a("td",[e._v("设备编号")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.EquipmentCode))]),e._v(" "),a("td",[e._v("设备名称")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.EquipmentName))]),e._v(" "),a("td",[e._v("资产编号")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.AssetCode))]),e._v(" "),a("td",[e._v("出厂编号")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.LeaveFactoryCode))])]),e._v(" "),a("tr",[a("td",[e._v("设备类别")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.EquipmentType))]),e._v(" "),a("td",[e._v("品牌")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.Brand))]),e._v(" "),a("td",[e._v("规格型号")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.Specs))]),e._v(" "),a("td",[e._v("单位")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.Unit))])]),e._v(" "),a("tr",[a("td",[e._v("设备来源")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.Source))]),e._v(" "),a("td",[e._v("供应商")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.Manufacturer))]),e._v(" "),a("td",[e._v("保修期")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.WarrantyTime))]),e._v(" "),a("td",[e._v("当前净值")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.NetValue))])]),e._v(" "),a("td",[e._v("设备状态")]),e._v(" "),a("td",{attrs:{colspan:"3"}},["正常"===e.EquipmentData.Status?a("span",{staticClass:"btn-block bg-success color-white"},[e._v(e._s(e.EquipmentData.Status))]):e._e(),e._v(" "),"带病运行"===e.EquipmentData.Status?a("span",{staticClass:"btn-block bg-orange color-white"},[e._v(e._s(e.EquipmentData.Status))]):e._e(),e._v(" "),"闲置"===e.EquipmentData.Status?a("span",{staticClass:"btn-block bg-darkblue color-white"},[e._v(e._s(e.EquipmentData.Status))]):e._e(),e._v(" "),"故障"===e.EquipmentData.Status?a("span",{staticClass:"btn-block bg-red color-white"},[e._v(e._s(e.EquipmentData.Status))]):e._e(),e._v(" "),"报废"===e.EquipmentData.Status?a("span",{staticClass:"btn-block bg-grayblack color-white"},[e._v(e._s(e.EquipmentData.Status))]):e._e()]),e._v(" "),a("td",[e._v("设备等级")]),e._v(" "),a("td",{attrs:{colspan:"3"}},["A"===e.EquipmentData.Grade?a("span",{staticClass:"btn-block color-white",staticStyle:{background:"#FF5722"}},[e._v("A(关键)")]):e._e(),e._v(" "),"B"===e.EquipmentData.Grade?a("span",{staticClass:"btn-block color-white",staticStyle:{background:"#813EDB"}},[e._v("B(重要)")]):e._e(),e._v(" "),"C"===e.EquipmentData.Grade?a("span",{staticClass:"btn-block color-white",staticStyle:{background:"#5FB878"}},[e._v("C(一般)")]):e._e()]),e._v(" "),a("tr",[a("td",[e._v("购置时间")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.PurchaseTime))]),e._v(" "),a("td",[e._v("购置金额")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.PurchaseMoney))]),e._v(" "),a("td",[e._v("投产时间")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.UseTime))]),e._v(" "),a("td",[e._v("预计报废时间")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.ScrapTime))])]),e._v(" "),a("tr",[a("td",[e._v("负责人")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(e.EquipmentData.Director))])]),e._v(" "),a("tr",[a("td",[e._v("所属部门")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(e.EquipmentData.Department))])]),e._v(" "),a("tr",[a("td",[e._v("放置位置")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(e.EquipmentData.Position))])]),e._v(" "),a("tr",[a("td",[e._v("折旧设备")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.EquipmentData.IsDepreciation))]),e._v(" "),a("td",[e._v("计量设备")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.EquipmentData.IsCalculate))])]),e._v(" "),a("tr",[a("td",[e._v("技术参数")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(e.EquipmentData.TechnicalParameter))])]),e._v(" "),a("tr",[a("td",[e._v("备注")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(e.EquipmentData.Comment))])])])],1)],1)],1)},staticRenderFns:[]};var ce=a("C7Lr")({name:"EquipmentDetails",data:function(){return{EquipmentData:{}}},mounted:function(){this.getTableData()},methods:{getTableData:function(){var e=this,t=this,a={tableName:"Equipment",EquipmentCode:this.$store.state.EquipmentCode};this.axios.get("/api/CUID",{params:a}).then(function(a){"200"===a.data.code?e.EquipmentData=a.data.data.rows[0]:t.$message({type:"info",message:a.data.message})})},returnList:function(){this.$router.push("/list")}}},re,!1,function(e){a("n67a")},"data-v-667e2212",null).exports,me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:6}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"text-size-14",attrs:{slot:"header"},slot:"header"},[e._v("设备结构树")]),e._v(" "),a("el-tree",{attrs:{data:e.treeData,props:e.defaultProps,accordion:""},on:{"node-click":e.handleNodeClick}})],1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[e.showEquipmentData?a("div",{staticClass:"platformContainer"},[a("span",[e._v("基本信息")]),e._v(" "),e.EquipmentData.QRCode?a("el-image",{staticClass:"floatRight marginBottom",staticStyle:{width:"50px",height:"50px"},attrs:{src:"data:;base64,"+e.EquipmentData.QRCode,"preview-src-list":("data:;base64,"+e.EquipmentData.QRCode).split()}}):e._e(),e._v(" "),a("table",{staticClass:"elementTable text-size-14"},[a("tr",[a("td",[e._v("设备编号")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.EquipmentCode))]),e._v(" "),a("td",[e._v("设备名称")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.EquipmentName))]),e._v(" "),a("td",[e._v("资产编号")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.AssetCode))]),e._v(" "),a("td",[e._v("出厂编号")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.LeaveFactoryCode))])]),e._v(" "),a("tr",[a("td",[e._v("设备类别")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.EquipmentType))]),e._v(" "),a("td",[e._v("品牌")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.Brand))]),e._v(" "),a("td",[e._v("规格型号")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.Specs))]),e._v(" "),a("td",[e._v("单位")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.Unit))])]),e._v(" "),a("tr",[a("td",[e._v("设备来源")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.Source))]),e._v(" "),a("td",[e._v("供应商")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.Manufacturer))]),e._v(" "),a("td",[e._v("保修期")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.WarrantyTime))]),e._v(" "),a("td",[e._v("当前净值")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.NetValue))])]),e._v(" "),a("td",[e._v("设备状态")]),e._v(" "),a("td",{attrs:{colspan:"3"}},["正常"===e.EquipmentData.Status?a("span",{staticClass:"btn-block bg-success color-white"},[e._v(e._s(e.EquipmentData.Status))]):e._e(),e._v(" "),"带病运行"===e.EquipmentData.Status?a("span",{staticClass:"btn-block bg-orange color-white"},[e._v(e._s(e.EquipmentData.Status))]):e._e(),e._v(" "),"闲置"===e.EquipmentData.Status?a("span",{staticClass:"btn-block bg-darkblue color-white"},[e._v(e._s(e.EquipmentData.Status))]):e._e(),e._v(" "),"故障"===e.EquipmentData.Status?a("span",{staticClass:"btn-block bg-red color-white"},[e._v(e._s(e.EquipmentData.Status))]):e._e(),e._v(" "),"报废"===e.EquipmentData.Status?a("span",{staticClass:"btn-block bg-grayblack color-white"},[e._v(e._s(e.EquipmentData.Status))]):e._e()]),e._v(" "),a("td",[e._v("设备等级")]),e._v(" "),a("td",{attrs:{colspan:"3"}},["A"===e.EquipmentData.Grade?a("span",{staticClass:"btn-block color-white",staticStyle:{background:"#FF5722"}},[e._v("A(关键)")]):e._e(),e._v(" "),"B"===e.EquipmentData.Grade?a("span",{staticClass:"btn-block color-white",staticStyle:{background:"#813EDB"}},[e._v("B(重要)")]):e._e(),e._v(" "),"C"===e.EquipmentData.Grade?a("span",{staticClass:"btn-block color-white",staticStyle:{background:"#5FB878"}},[e._v("C(一般)")]):e._e()]),e._v(" "),a("tr",[a("td",[e._v("购置时间")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.PurchaseTime))]),e._v(" "),a("td",[e._v("购置金额")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.PurchaseMoney))]),e._v(" "),a("td",[e._v("投产时间")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.UseTime))]),e._v(" "),a("td",[e._v("预计报废时间")]),e._v(" "),a("td",[e._v(e._s(e.EquipmentData.ScrapTime))])]),e._v(" "),a("tr",[a("td",[e._v("负责人")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(e.EquipmentData.Director))])]),e._v(" "),a("tr",[a("td",[e._v("所属部门")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(e.EquipmentData.Department))])]),e._v(" "),a("tr",[a("td",[e._v("放置位置")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(e.EquipmentData.Position))])]),e._v(" "),a("tr",[a("td",[e._v("折旧设备")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.EquipmentData.IsDepreciation))]),e._v(" "),a("td",[e._v("计量设备")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.EquipmentData.IsCalculate))])]),e._v(" "),a("tr",[a("td",[e._v("技术参数")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(e.EquipmentData.TechnicalParameter))])]),e._v(" "),a("tr",[a("td",[e._v("备注")]),e._v(" "),a("td",{attrs:{colspan:"7"}},[e._v(e._s(e.EquipmentData.Comment))])])])],1):e._e()])],1)},staticRenderFns:[]};var de=a("C7Lr")({name:"equipmentTree",data:function(){return{treeData:[],defaultProps:{children:"children",label:"label"},EquipmentData:{},showEquipmentData:!1}},mounted:function(){this.getTree()},methods:{getTree:function(){var e=this,t=this;this.axios.get("/api/EquipmentTree").then(function(a){"1000"===a.data.code?e.treeData=a.data.data:t.$message({type:"info",message:a.data.message})})},handleNodeClick:function(e){var t=this;if("设备"===e.type){var a=this,i={tableName:"Equipment",EquipmentCode:e.id};this.axios.get("/api/CUID",{params:i}).then(function(e){"200"===e.data.code?(t.EquipmentData=e.data.data.rows[0],t.showEquipmentData=!0):a.$message({type:"info",message:e.data.message})})}}}},me,!1,function(e){a("DKaO")},"data-v-f62c7d7e",null).exports,ue={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var pe=a("C7Lr")({name:"Inventory"},ue,!1,function(e){a("1gjJ")},"data-v-fb9547c4",null).exports,he={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var fe=a("C7Lr")({name:"depreciation"},he,!1,function(e){a("fS9a")},"data-v-3fb2a40c",null).exports,be={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var ve=a("C7Lr")({name:"labelPrinting"},be,!1,function(e){a("b6er")},"data-v-3cca08b8",null).exports,ge={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var De=a("C7Lr")({name:"runRecord"},ge,!1,function(e){a("qUtF")},"data-v-6eef071e",null).exports,_e={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Te=a("C7Lr")({name:"transfer"},_e,!1,function(e){a("RCO7")},"data-v-3038eefc",null).exports,ye={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ce=a("C7Lr")({name:"scrap"},ye,!1,function(e){a("9EAJ")},"data-v-5702c784",null).exports,we={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var ke=a("C7Lr")({name:"sellOff"},we,!1,function(e){a("4hpt")},"data-v-23e77896",null).exports,Fe={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Se=a("C7Lr")({name:"receive"},Fe,!1,function(e){a("0NbO")},"data-v-4d329562",null).exports,xe={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ee=a("C7Lr")({name:"maintainStandard"},xe,!1,function(e){a("DE19")},"data-v-1dfb270d",null).exports,Ne={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Me=a("C7Lr")({name:"repair"},Ne,!1,function(e){a("a/j7")},"data-v-e83b4b26",null).exports,Ie={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Re=a("C7Lr")({name:"Outsourced"},Ie,!1,function(e){a("/WuL")},"data-v-34c43ba6",null).exports,Le={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Pe=a("C7Lr")({name:"servicedPlan"},Le,!1,function(e){a("o0Rc")},"data-v-40cb7c8d",null).exports,Ve={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var je=a("C7Lr")({name:"servicedTask"},Ve,!1,function(e){a("3MNE")},"data-v-3865b50d",null).exports,qe={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var ze=a("C7Lr")({name:"keepStandard"},qe,!1,function(e){a("TbhH")},"data-v-1fd3d767",null).exports,Ue={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ae=a("C7Lr")({name:"upkeepPlan"},Ue,!1,function(e){a("FDtD")},"data-v-4bf3e9fc",null).exports,$e={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ge=a("C7Lr")({name:"upkeepTask"},$e,!1,function(e){a("8p3k")},"data-v-491806fc",null).exports,Oe={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var We=a("C7Lr")({name:"inspectionStandard"},Oe,!1,function(e){a("ZuWc")},"data-v-1ce4b5d6",null).exports,Be={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ye=a("C7Lr")({name:"pointInspection"},Be,!1,function(e){a("XQt3")},"data-v-61aa3078",null).exports,He={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ze=a("C7Lr")({name:"pointInspectionLog"},He,!1,function(e){a("1xJG")},"data-v-f1dfbc14",null).exports,Qe={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Je=a("C7Lr")({name:"patrolPlan"},Qe,!1,function(e){a("OxKV")},"data-v-3fd65656",null).exports,Xe={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ke=a("C7Lr")({name:"patrolTask"},Xe,!1,function(e){a("ktn9")},"data-v-009a12d6",null).exports,et={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var tt=a("C7Lr")({name:"partsList"},et,!1,function(e){a("PMA+")},"data-v-704899fe",null).exports,at={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var it=a("C7Lr")({name:"partsReceive"},at,!1,function(e){a("1Veg")},"data-v-49da0ceb",null).exports,lt={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var st=a("C7Lr")({name:"warehouseOut"},lt,!1,function(e){a("iRdg")},"data-v-5a1ddc2a",null).exports,nt={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var ot=a("C7Lr")({name:"warehouseEnter"},nt,!1,function(e){a("OT68")},"data-v-d595ccaa",null).exports,rt={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var ct=a("C7Lr")({name:"stockTaking"},rt,!1,function(e){a("hltM")},"data-v-46b43039",null).exports,mt={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var dt=a("C7Lr")({name:"realTimeData"},mt,!1,function(e){a("bIjZ")},"data-v-1783ce2a",null).exports,ut={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var pt=a("C7Lr")({name:"dataReport"},ut,!1,function(e){a("mG3w")},"data-v-693464ca",null).exports,ht={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var ft=a("C7Lr")({name:"EquipmentStatistics"},ht,!1,function(e){a("T5jn")},"data-v-0be80c01",null).exports,bt={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var vt=a("C7Lr")({name:"upkeepStatistics"},bt,!1,function(e){a("aGGQ")},"data-v-ec2f6076",null).exports,gt={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Dt=a("C7Lr")({name:"maintainStatistics"},gt,!1,function(e){a("bsjM")},"data-v-5db28a25",null).exports,_t={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Tt=a("C7Lr")({name:"examineStatistics"},_t,!1,function(e){a("CuUA")},"data-v-334db6e7",null).exports,yt={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ct=a("C7Lr")({name:"warehouseStatistics"},yt,!1,function(e){a("cf1x")},"data-v-d29382aa",null).exports,wt={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var kt=a("C7Lr")({name:"runingStatistics"},wt,!1,function(e){a("mUeo")},"data-v-cdfa3236",null).exports;s.default.use(r.a);var Ft=r.a.prototype.push;r.a.prototype.push=function(e){return Ft.call(this,e).catch(function(e){return e})};var St=new r.a({routes:[{path:"/",name:"Index",meta:{title:"系统管理"},component:u,redirect:"/home",children:[{path:"/home",name:"home",meta:{title:"首页"},component:h},{path:"/Organization",name:"Organization",meta:{title:"组织架构",type:"系统管理"},component:x},{path:"/FactoryManagement",name:"FactoryManagement",meta:{title:"区域管理",type:"系统管理"},component:M},{path:"/Role",name:"Role",meta:{title:"角色权限",type:"系统管理"},component:L},{path:"/TeamGroup",name:"TeamGroup",meta:{title:"班组管理",type:"系统管理"},component:j},{path:"/Personnel",name:"Personnel",meta:{title:"人员管理",type:"系统管理"},component:U},{path:"/Permission",name:"Permission",meta:{title:"权限维护",type:"系统管理"},component:G},{path:"/Log",name:"Log",meta:{title:"系统日志",type:"系统管理"},component:Y},{path:"/flowGraph",name:"flowGraph",meta:{title:"流程图管理",type:"系统管理"},component:X},{path:"/BuildTable",name:"BuildTable",meta:{title:"可视化建表",type:"系统管理"},component:te}]},{path:"/",name:"Index",meta:{title:"设备管理"},component:u,redirect:"/home",children:[{path:"/list",name:"list",meta:{title:"设备台账",type:"设备管理"},component:oe,children:[{path:"/EquipmentDetails",name:"EquipmentDetails",meta:{title:"设备详情"},component:ce}]},{path:"/equipmentTree",name:"equipmentTree",meta:{title:"设备结构树",type:"设备管理"},component:de},{path:"/Inventory",name:"Inventory",meta:{title:"设备盘点",type:"设备管理"},component:pe},{path:"/depreciation",name:"depreciation",meta:{title:"设备折旧",type:"设备管理"},component:fe},{path:"/labelPrinting",name:"labelPrinting",meta:{title:"标签打印",type:"设备管理"},component:ve},{path:"/runRecord",name:"runRecord",meta:{title:"运行记录",type:"设备管理"},component:De}]},{path:"/",name:"Index",meta:{title:"设备处置"},component:u,redirect:"/home",children:[{path:"/transfer",name:"transfer",meta:{title:"调拨转移",type:"设备处置"},component:Te},{path:"/scrap",name:"scrap",meta:{title:"设备报废",type:"设备处置"},component:Ce},{path:"/sellOff",name:"sellOff",meta:{title:"设备变卖",type:"设备处置"},component:ke},{path:"/receive",name:"receive",meta:{title:"领用归还",type:"设备处置"},component:Se}]},{path:"/",name:"Index",meta:{title:"维修管理"},component:u,redirect:"/home",children:[{path:"/maintainStandard",name:"maintainStandard",meta:{title:"检修标准",type:"维修管理"},component:Ee},{path:"/repair",name:"repair",meta:{title:"报修",type:"维修管理"},component:Me},{path:"/Outsourced",name:"Outsourced",meta:{title:"外委维修",type:"维修管理"},component:Re},{path:"/servicedPlan",name:"servicedPlan",meta:{title:"检修计划",type:"维修管理"},component:Pe},{path:"/servicedTask",name:"servicedTask",meta:{title:"检修任务",type:"维修管理"},component:je}]},{path:"/",name:"Index",meta:{title:"保养管理"},component:u,redirect:"/home",children:[{path:"/upkeepStandard",name:"upkeepStandard",meta:{title:"保养标准",type:"保养管理"},component:ze},{path:"/upkeepPlan",name:"upkeepPlan",meta:{title:"保养计划",type:"保养管理"},component:Ae},{path:"/upkeepTask",name:"upkeepTask",meta:{title:"保养任务",type:"保养管理"},component:Ge}]},{path:"/",name:"Index",meta:{title:"点检巡检"},component:u,redirect:"/home",children:[{path:"/inspectionStandard",name:"inspectionStandard",meta:{title:"点巡检标准",type:"点检巡检"},component:We},{path:"/pointInspection",name:"pointInspection",meta:{title:"点检项",type:"点检巡检"},component:Ye},{path:"/pointInspectionLog",name:"pointInspectionLog",meta:{title:"点检记录",type:"点检巡检"},component:Ze},{path:"/patrolPlan",name:"patrolPlan",meta:{title:"巡检计划",type:"点检巡检"},component:Je},{path:"/patrolTask",name:"patrolTask",meta:{title:"巡检任务",type:"点检巡检"},component:Ke}]},{path:"/",name:"Index",meta:{title:"备品备件"},component:u,redirect:"/home",children:[{path:"/partsList",name:"partsList",meta:{title:"备件台账",type:"备品备件"},component:tt},{path:"/partsReceive",name:"partsReceive",meta:{title:"备件领用",type:"备品备件"},component:it},{path:"/warehouseOut",name:"warehouseOut",meta:{title:"出库管理",type:"备品备件"},component:st},{path:"/warehouseEnter",name:"warehouseEnter",meta:{title:"入库管理",type:"备品备件"},component:ot},{path:"/stockTaking",name:"stockTaking",meta:{title:"库存盘点",type:"备品备件"},component:ct}]},{path:"/",name:"Index",meta:{title:"设备监控"},component:u,redirect:"/home",children:[{path:"/realTimeData",name:"realTimeData",meta:{title:"实时数据",type:"设备监控"},component:dt},{path:"/dataReport",name:"dataReport",meta:{title:"数据报表",type:"设备监控"},component:pt}]},{path:"/",name:"Index",meta:{title:"统计分析"},component:u,redirect:"/home",children:[{path:"/EquipmentStatistics",name:"EquipmentStatistics",meta:{title:"设备统计",type:"统计分析"},component:ft},{path:"/upkeepStatistics",name:"upkeepStatistics",meta:{title:"保养统计",type:"统计分析"},component:vt},{path:"/maintainStatistics",name:"maintainStatistics",meta:{title:"维修统计",type:"统计分析"},component:Dt},{path:"/examineStatistics",name:"examineStatistics",meta:{title:"维修统计",type:"统计分析"},component:Tt},{path:"/warehouseStatistics",name:"warehouseStatistics",meta:{title:"库存统计",type:"统计分析"},component:Ct},{path:"/runingStatistics",name:"runingStatistics",meta:{title:"运行统计",type:"统计分析"},component:kt}]},{path:"/mobileEquipmentDetails",name:"mobileEquipmentDetails",component:le},{path:"/login",name:"login",component:g}]}),xt=a("7Xp/"),Et=a.n(xt),Nt=a("I29D"),Mt=a.n(Nt),It=a("CtzY"),Rt=a.n(It),Lt=(a("XAS4"),a("uxEr"),a("dO3j")),Pt=a.n(Lt),Vt=a("OAll");s.default.use(Vt.a);var jt=new Vt.a.Store({state:{WorkNumber:null,UserName:null,LoginStatus:!1,EquipmentCode:null},mutations:{setUser:function(e,t){e.WorkNumber=t,e.LoginStatus=!0,Mt.a.get("/api/CUID",{params:{tableName:"User",WorkNumber:t}}).then(function(t){var a=t.data;"200"===a.code&&(e.UserName=a.data.rows[0].Name,e.UserId=a.data.rows[0].ID,sessionStorage.setItem("UserName",a.data.rows[0].Name),sessionStorage.setItem("LastLoginTime",a.data.rows[0].LastLoginTime))},function(e){console.log("获取用户信息时请求错误")}),Mt.a.get("/api/permission/selectpermissionbyuser").then(function(e){sessionStorage.setItem("Permissions",_()(e.data.data.rows))}),sessionStorage.setItem("WorkNumber",t),sessionStorage.setItem("LoginStatus",!0)},removeUser:function(e){e.WorkNumber=null,e.LoginStatus=!1,sessionStorage.removeItem("WorkNumber"),sessionStorage.removeItem("LoginStatus"),sessionStorage.removeItem("UserName"),sessionStorage.removeItem("Permissions"),sessionStorage.removeItem("LastLoginTime")},setEquipmentCode:function(e,t){e.EquipmentCode=t}},actions:{},getters:{WorkNumber:function(e){return e.WorkNumber},LoginStatus:function(e){return e.LoginStatus}}});a("hcrA"),s.default.directive("has",{inserted:function(e,t){var a=JSON.parse(_()(t.value));s.default.prototype.$_has(a)||e.parentNode.removeChild(e)}});s.default.prototype.$_has=function(e){var t=JSON.parse(sessionStorage.getItem("Permissions"));return void 0!=t&&null!=t&&(!!function(e,t){if(!(e instanceof Array&&t instanceof Array))return!1;if(e.length<t.length)return!1;for(var a=e.toString(),i=0,l=t.length;i<l;i++)if(-1==a.indexOf(t[i]))return!1;return!0}(t,e)&&!0)};var qt=a("wSez"),zt=a.n(qt);a("5OHe");s.default.use(Et.a),s.default.config.productionTip=!1,s.default.prototype.axios=Mt.a,s.default.prototype.qs=Rt.a,s.default.use(Pt.a),s.default.use(zt.a),s.default.config.productionTip=!1,s.default.component(l.a.name,l.a),new s.default({el:"#app",router:St,store:jt,components:{App:o},template:"<App/>"})},OT68:function(e,t){},OxKV:function(e,t){},P7VY:function(e,t){},"PMA+":function(e,t){},RCO7:function(e,t){},T5jn:function(e,t){},TbhH:function(e,t){},XAS4:function(e,t){},XQt3:function(e,t){},ZuWc:function(e,t){},"a/j7":function(e,t){},aGGQ:function(e,t){},b6er:function(e,t){},bIjZ:function(e,t){},bsjM:function(e,t){},cf1x:function(e,t){},fGvu:function(e,t){},fS9a:function(e,t){},hltM:function(e,t){},iRdg:function(e,t){},jSUE:function(e,t){},jTKa:function(e,t){},ktn9:function(e,t){},ldLt:function(e,t){},mG3w:function(e,t){},mUeo:function(e,t){},n67a:function(e,t){},o0Rc:function(e,t){},o9R2:function(e,t){},qUtF:function(e,t){},roWi:function(e,t){},sqsq:function(e,t){},"tzg+":function(e,t){},uxEr:function(e,t){},vaC7:function(e,t,a){"use strict";(function(e){var i=a("ukg7"),l=a.n(i),s=a("zH3I");t.a={name:"Index",data:function(){return{selfHeight:{height:""},menuIsCollapse:!1,sideIcon:"el-icon-arrow-left",systemOptions:[{title:"设备管理",icon:"el-icon-document",mainMenu:[{title:"设备台账",url:"/list"},{title:"设备结构树",url:"/equipmentTree"},{title:"设备盘点",url:"/Inventory"},{title:"设备折旧",url:"/depreciation"},{title:"标签打印",url:"/labelPrinting"},{title:"运行记录",url:"/runRecord"}]},{title:"设备处置",icon:"fa fa-exchange",mainMenu:[{title:"调拨转移",url:"/transfer"},{title:"设备报废",url:"/scrap"},{title:"设备变卖",url:"/sellOff"},{title:"领用归还",url:"/receive"}]},{title:"维修管理",icon:"fa fa-wrench",mainMenu:[{title:"检修标准",url:"/maintainStandard"},{title:"报修",url:"/repair"},{title:"外委维修",url:"/Outsourced"},{title:"检修计划",url:"/servicedPlan"},{title:"检修任务",url:"/servicedTask"}]},{title:"保养管理",icon:"fa fa-history",mainMenu:[{title:"保养标准",url:"/upkeepStandard"},{title:"保养计划",url:"/upkeepPlan"},{title:"保养任务",url:"/upkeepTask"}]},{title:"点检巡检",icon:"fa fa-compass",mainMenu:[{title:"点巡检标准",url:"/inspectionStandard"},{title:"点检项",url:"/pointInspection"},{title:"点检记录",url:"/pointInspectionLog"},{title:"巡检计划",url:"/patrolPlan"},{title:"巡检任务",url:"/patrolTask"}]},{title:"备品备件",icon:"fa fa-archive",mainMenu:[{title:"备件台账",url:"/partsList"},{title:"备件领用",url:"/partsReceive"},{title:"出库管理",url:"/warehouseOut"},{title:"入库管理",url:"/warehouseEnter"},{title:"库存盘点",url:"/stockTaking"}]},{title:"设备监控",icon:"el-icon-view",mainMenu:[{title:"实时数据",url:"/realTimeData"},{title:"数据报表",url:"/dataReport"}]},{title:"统计分析",icon:"fa fa-bar-chart",mainMenu:[{title:"设备统计",url:"/EquipmentStatistics"},{title:"保养统计",url:"/upkeepStatistics"},{title:"维修统计",url:"/maintainStatistics"},{title:"点检统计",url:"/examineStatistics"},{title:"库存统计",url:"/warehouseStatistics"},{title:"运行统计",url:"/runingStatistics"}]},{title:"系统管理",icon:"el-icon-s-tools",mainMenu:[{title:"组织架构",url:"/Organization"},{title:"区域管理",url:"/FactoryManagement"},{title:"角色权限",url:"/Role"},{title:"班组管理",url:"/TeamGroup"},{title:"人员管理",url:"/Personnel"},{title:"权限维护",url:"/Permission"},{title:"流程管理",url:"/flowGraph"},{title:"可视化建表",url:"/BuildTable"},{title:"系统日志",url:"/Log"}]}],defaultActiveUrl:"",dialogUserVisible:!1,userInfo:{},isFullScreen:!1,themeColor:"",breadList:[]}},mounted:function(){localStorage.getItem("theme")?this.themeColor=localStorage.getItem("theme"):this.themeColor="#4881e6"},created:function(){var e=this;document.title="智能设备管理系统",window.addEventListener("resize",this.getMenuHeight),this.getMenuHeight(),sessionStorage.getItem("LoginStatus")?this.$store.commit("setUser",sessionStorage.getItem("WorkNumber")):this.$router.push("/login"),this.getBreadcrumb(),"/home"===this.$route.path?this.defaultActiveUrl="":this.systemOptions.forEach(function(t,a){t.title===e.$route.meta.type&&(e.defaultActiveUrl=e.$route.path)})},destroyed:function(){},watch:{$route:{handler:function(e,t){this.defaultActiveUrl=e.path,this.getBreadcrumb()},deep:!0}},methods:{getMenuHeight:function(){this.menuIsCollapse,this.selfHeight.height=window.innerHeight-180+"px"},menuSelect:function(e,t){this.$router.push({query:s()})},handleCommand:function(e){"a"===e?(this.dialogUserVisible=!0,this.userInfo.LastLoginTime=sessionStorage.getItem("LastLoginTime"),this.userInfo.WorkNumber=sessionStorage.getItem("WorkNumber"),this.userInfo.Name=sessionStorage.getItem("UserName"),this.userInfo.Permissions=JSON.parse(sessionStorage.getItem("Permissions")).join("，")):"b"===e&&(this.$store.commit("removeUser"),this.$router.replace("/login"))},iconToggle:function(){this.menuIsCollapse=!this.menuIsCollapse,this.getMenuHeight(),this.menuIsCollapse?(this.sideIcon="el-icon-arrow-right",e(".left-aside").animate({width:"64px"})):(this.sideIcon="el-icon-arrow-left",e(".left-aside").animate({width:"220px"}))},getFullCreeen:function(){l.a.isEnabled&&(l.a.toggle(),l.a.isFullscreen?this.isFullScreen=!1:this.isFullScreen=!0)},changeTheme:function(e){this.themeColor=e,localStorage.setItem("theme",e)},getBreadcrumb:function(){"home"!=this.$route.name?this.breadList=[{path:"/home",meta:{title:"首页"}}].concat(this.$route.matched):this.breadList=[{path:"/home",name:"home",meta:{title:"首页"}}]}}}}).call(t,a("hcrA"))},wVyu:function(e,t){},zenm:function(e,t,a){var i={"./af":"DMd3","./af.js":"DMd3","./ar":"V5uq","./ar-dz":"ZlOZ","./ar-dz.js":"ZlOZ","./ar-kw":"QkGj","./ar-kw.js":"QkGj","./ar-ly":"c9ne","./ar-ly.js":"c9ne","./ar-ma":"QZgE","./ar-ma.js":"QZgE","./ar-sa":"XQyA","./ar-sa.js":"XQyA","./ar-tn":"aHVQ","./ar-tn.js":"aHVQ","./ar.js":"V5uq","./az":"HZnN","./az.js":"HZnN","./be":"bVSf","./be.js":"bVSf","./bg":"I5ck","./bg.js":"I5ck","./bm":"SUhV","./bm.js":"SUhV","./bn":"2iG6","./bn-bd":"pL9F","./bn-bd.js":"pL9F","./bn.js":"2iG6","./bo":"cWnb","./bo.js":"cWnb","./br":"3lRP","./br.js":"3lRP","./bs":"pPuy","./bs.js":"pPuy","./ca":"TGkz","./ca.js":"TGkz","./cs":"dr47","./cs.js":"dr47","./cv":"xHW1","./cv.js":"xHW1","./cy":"HZ+Y","./cy.js":"HZ+Y","./da":"3CFF","./da.js":"3CFF","./de":"2YCs","./de-at":"emcn","./de-at.js":"emcn","./de-ch":"VspD","./de-ch.js":"VspD","./de.js":"2YCs","./dv":"v+nZ","./dv.js":"v+nZ","./el":"IVWY","./el.js":"IVWY","./en-au":"fgMQ","./en-au.js":"fgMQ","./en-ca":"9O6x","./en-ca.js":"9O6x","./en-gb":"C8Ks","./en-gb.js":"C8Ks","./en-ie":"Guoq","./en-ie.js":"Guoq","./en-il":"pAFd","./en-il.js":"pAFd","./en-in":"gwcs","./en-in.js":"gwcs","./en-nz":"BXwR","./en-nz.js":"BXwR","./en-sg":"Gx3T","./en-sg.js":"Gx3T","./eo":"SyIA","./eo.js":"SyIA","./es":"P39S","./es-do":"Zr3G","./es-do.js":"Zr3G","./es-mx":"R8E5","./es-mx.js":"R8E5","./es-us":"XyK+","./es-us.js":"XyK+","./es.js":"P39S","./et":"nsca","./et.js":"nsca","./eu":"EGkk","./eu.js":"EGkk","./fa":"hFC+","./fa.js":"hFC+","./fi":"QZnC","./fi.js":"QZnC","./fil":"yjnK","./fil.js":"yjnK","./fo":"Eh/V","./fo.js":"Eh/V","./fr":"dqJ6","./fr-ca":"UJ1w","./fr-ca.js":"UJ1w","./fr-ch":"jUG3","./fr-ch.js":"jUG3","./fr.js":"dqJ6","./fy":"2Y+u","./fy.js":"2Y+u","./ga":"fP5U","./ga.js":"fP5U","./gd":"HNnd","./gd.js":"HNnd","./gl":"csFA","./gl.js":"csFA","./gom-deva":"v9Un","./gom-deva.js":"v9Un","./gom-latn":"Is64","./gom-latn.js":"Is64","./gu":"ytb1","./gu.js":"ytb1","./he":"3ukh","./he.js":"3ukh","./hi":"cir5","./hi.js":"cir5","./hr":"5/WS","./hr.js":"5/WS","./hu":"3C4D","./hu.js":"3C4D","./hy-am":"mIMg","./hy-am.js":"mIMg","./id":"lq5T","./id.js":"lq5T","./is":"M62V","./is.js":"M62V","./it":"EsV5","./it-ch":"gK9f","./it-ch.js":"gK9f","./it.js":"EsV5","./ja":"w9bl","./ja.js":"w9bl","./jv":"haXP","./jv.js":"haXP","./ka":"m5zV","./ka.js":"m5zV","./kk":"qLxw","./kk.js":"qLxw","./km":"w6w2","./km.js":"w6w2","./kn":"8Psv","./kn.js":"8Psv","./ko":"grrN","./ko.js":"grrN","./ku":"LA3b","./ku.js":"LA3b","./ky":"xN7O","./ky.js":"xN7O","./lb":"3MLE","./lb.js":"3MLE","./lo":"V1Nm","./lo.js":"V1Nm","./lt":"jHKF","./lt.js":"jHKF","./lv":"ofGP","./lv.js":"ofGP","./me":"qzFN","./me.js":"qzFN","./mi":"pI6/","./mi.js":"pI6/","./mk":"it99","./mk.js":"it99","./ml":"QCEW","./ml.js":"QCEW","./mn":"aEc7","./mn.js":"aEc7","./mr":"/AhN","./mr.js":"/AhN","./ms":"qp2u","./ms-my":"ytBS","./ms-my.js":"ytBS","./ms.js":"qp2u","./mt":"LHwr","./mt.js":"LHwr","./my":"cZ++","./my.js":"cZ++","./nb":"sXFW","./nb.js":"sXFW","./ne":"OqlK","./ne.js":"OqlK","./nl":"gz0p","./nl-be":"1c87","./nl-be.js":"1c87","./nl.js":"gz0p","./nn":"yEIC","./nn.js":"yEIC","./oc-lnc":"WHIy","./oc-lnc.js":"WHIy","./pa-in":"In9j","./pa-in.js":"In9j","./pl":"sYsF","./pl.js":"sYsF","./pt":"M5aA","./pt-br":"FL2Y","./pt-br.js":"FL2Y","./pt.js":"M5aA","./ro":"pzLN","./ro.js":"pzLN","./ru":"3DQJ","./ru.js":"3DQJ","./sd":"J2Qk","./sd.js":"J2Qk","./se":"7ma1","./se.js":"7ma1","./si":"sjgc","./si.js":"sjgc","./sk":"fn8n","./sk.js":"fn8n","./sl":"bGi8","./sl.js":"bGi8","./sq":"75i0","./sq.js":"75i0","./sr":"U2RI","./sr-cyrl":"r8Zk","./sr-cyrl.js":"r8Zk","./sr.js":"U2RI","./ss":"JXU5","./ss.js":"JXU5","./sv":"cIMW","./sv.js":"cIMW","./sw":"ryRQ","./sw.js":"ryRQ","./ta":"hNjb","./ta.js":"hNjb","./te":"fmJ/","./te.js":"fmJ/","./tet":"oGrL","./tet.js":"oGrL","./tg":"ItXd","./tg.js":"ItXd","./th":"wxcM","./th.js":"wxcM","./tk":"llaT","./tk.js":"llaT","./tl-ph":"wOon","./tl-ph.js":"wOon","./tlh":"jMfG","./tlh.js":"jMfG","./tr":"Adq8","./tr.js":"Adq8","./tzl":"OIFh","./tzl.js":"OIFh","./tzm":"oPmo","./tzm-latn":"xXRz","./tzm-latn.js":"xXRz","./tzm.js":"oPmo","./ug-cn":"K89W","./ug-cn.js":"K89W","./uk":"kr7y","./uk.js":"kr7y","./ur":"VT2A","./ur.js":"VT2A","./uz":"MW2X","./uz-latn":"x9cz","./uz-latn.js":"x9cz","./uz.js":"MW2X","./vi":"G0Ye","./vi.js":"G0Ye","./x-pseudo":"7xkf","./x-pseudo.js":"7xkf","./yo":"u1YX","./yo.js":"u1YX","./zh-cn":"cLZ+","./zh-cn.js":"cLZ+","./zh-hk":"5qPz","./zh-hk.js":"5qPz","./zh-mo":"xbeu","./zh-mo.js":"xbeu","./zh-tw":"dOkB","./zh-tw.js":"dOkB"};function l(e){return a(s(e))}function s(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}l.keys=function(){return Object.keys(i)},l.resolve=s,e.exports=l,l.id="zenm"}},[0]);
//# sourceMappingURL=main.caa439f9935c3d756772.js.map